file(
  WRITE "${CMAKE_CURRENT_SOURCE_DIR}/3rdparty/bzip2/bzip2-config.cmake.in"
  "if (@PKG_NAME@_CONFIG_INCLUDED)\n  return()\nendif()\nset(@PKG_NAME@_CONFIG_INCLUDED TRUE)\n\nset(@PKG_NAME@_INCLUDE_DIRS @CMAKE_INSTALL_PREFIX@/include)\n\nforeach(lib @PKG_LIBRARIES@)\n  set(onelib \"\${lib}-NOTFOUND\")\n  find_library(onelib \${lib}\n    PATHS @CMAKE_INSTALL_PREFIX@/lib\n    NO_DEFAULT_PATH\n    )\n  if(NOT onelib)\n    message(FATAL_ERROR \"Library '\${lib}' in package @PKG_NAME@ is not installed properly\")\n  endif()\n  list(APPEND @PKG_NAME@_LIBRARIES \${onelib})\nendforeach()\n\nforeach(dep @PKG_DEPENDS@)\n  if(NOT \${dep}_FOUND)\n    find_package(\${dep})\n  endif()\n  list(APPEND @PKG_NAME@_INCLUDE_DIRS \${\${dep}_INCLUDE_DIRS})\n  list(APPEND @PKG_NAME@_LIBRARIES \${\${dep}_LIBRARIES})\nendforeach()\n"
)
file(
  WRITE "${CMAKE_CURRENT_SOURCE_DIR}/3rdparty/bzip2/CMakeLists.txt"
  "cmake_minimum_required(VERSION 2.8)\nproject(bzip2)\n\nif(NOT CMAKE_BUILD_TYPE)\n  set(CMAKE_BUILD_TYPE Release)\nendif()\n\nif(MSVC OR MSVC90 OR MSVC10)\n  set(MSVC ON)\nendif(MSVC OR MSVC90 OR MSVC10)\n\nfile(GLOB sources *.c)\nset(bzip2_STAT_SRCS \${sources})\n\ninclude_directories(\${CMAKE_CURRENT_SOURCE_DIR})\n\n# add_definitions(-DBZ_NO_STDIO=1)\nif(BZIP2_STATIC)\n  add_library(bz2 STATIC \${bzip2_STAT_SRCS})\nelse(BZIP2_STATIC)\n  add_library(bz2 \${bzip2_STAT_SRCS})\nendif(BZIP2_STATIC)\n\ntarget_link_libraries(bz2)\nif(NOT LIBDIR)\n  set(LIBDIR lib)\nendif()\n\nif(NOT BZIP2_NO_INSTALL)\n  install(TARGETS bz2 DESTINATION \${LIBDIR})\n  install(FILES bzlib.h DESTINATION include)\nendif(NOT BZIP2_NO_INSTALL)\n\nset(PKG_NAME \${PROJECT_NAME})\nset(PKG_LIBRARIES bz2)\nset(cmake_conf_file \"\${CMAKE_CURRENT_SOURCE_DIR}/\${PROJECT_NAME}-config.cmake\")\nconfigure_file(\"\${cmake_conf_file}.in\" \"\${cmake_conf_file}\" @ONLY)\nif(NOT BZIP2_NO_INSTALL)\n  install(FILES \${cmake_conf_file} DESTINATION share/\${PROJECT_NAME}/cmake/ COMPONENT cmake)\nendif(NOT BZIP2_NO_INSTALL)\n\nif(NOT MSVC)\n  set(PKG_DESC \"bzip2\")\n  set(PKG_CB_LIBS \"-lbz2\")\n  set(pkg_conf_file \"\${CMAKE_CURRENT_SOURCE_DIR}/bzip2.pc\")\n  configure_file(\"\${pkg_conf_file}.in\" \"\${pkg_conf_file}\" @ONLY)\n  if(NOT BZIP2_NO_INSTALL)\n    install(FILES \${pkg_conf_file} DESTINATION lib/pkgconfig/ COMPONENT pkgconfig)\n  endif(NOT BZIP2_NO_INSTALL)\nendif()\n"
)
