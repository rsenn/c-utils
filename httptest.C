# 31 "/usr/include/bits/types.h"
typedef unsigned char __u_char;
typedef unsigned short int __u_short;
typedef unsigned int __u_int;
typedef unsigned long int __u_long;
# 37 "/usr/include/bits/types.h"
typedef signed char __int8_t;
typedef unsigned char __uint8_t;
typedef signed short int __int16_t;
typedef unsigned short int __uint16_t;
typedef signed int __int32_t;
typedef unsigned int __uint32_t;
# 44 "/usr/include/bits/types.h"
typedef signed long int __int64_t;
typedef unsigned long int __uint64_t;
# 52 "/usr/include/bits/types.h"
typedef __int8_t __int_least8_t;
typedef __uint8_t __uint_least8_t;
typedef __int16_t __int_least16_t;
typedef __uint16_t __uint_least16_t;
typedef __int32_t __int_least32_t;
typedef __uint32_t __uint_least32_t;
typedef __int64_t __int_least64_t;
typedef __uint64_t __uint_least64_t;
# 63 "/usr/include/bits/types.h"
typedef long int __quad_t;
typedef unsigned long int __u_quad_t;
# 72 "/usr/include/bits/types.h"
typedef long int __intmax_t;
typedef unsigned long int __uintmax_t;
# 137 "/usr/include/bits/types.h"
typedef unsigned long int __dev_t;
# 137 "/usr/include/bits/types.h"
typedef unsigned int __uid_t;
# 137 "/usr/include/bits/types.h"
typedef unsigned int __gid_t;
# 137 "/usr/include/bits/types.h"
typedef unsigned long int __ino_t;
# 137 "/usr/include/bits/types.h"
typedef unsigned long int __ino64_t;
# 137 "/usr/include/bits/types.h"
typedef unsigned int __mode_t;
# 137 "/usr/include/bits/types.h"
typedef unsigned long int __nlink_t;
# 137 "/usr/include/bits/types.h"
typedef long int __off_t;
# 137 "/usr/include/bits/types.h"
typedef long int __off64_t;
# 137 "/usr/include/bits/types.h"
typedef int __pid_t;
# 137 "/usr/include/bits/types.h"
typedef struct { int __val[2]; } __fsid_t;
# 137 "/usr/include/bits/types.h"
typedef long int __clock_t;
# 137 "/usr/include/bits/types.h"
typedef unsigned long int __rlim_t;
# 137 "/usr/include/bits/types.h"
typedef unsigned long int __rlim64_t;
# 137 "/usr/include/bits/types.h"
typedef unsigned int __id_t;
# 137 "/usr/include/bits/types.h"
typedef long int __time_t;
# 137 "/usr/include/bits/types.h"
typedef unsigned int __useconds_t;
# 137 "/usr/include/bits/types.h"
typedef long int __suseconds_t;
# 137 "/usr/include/bits/types.h"
typedef int __daddr_t;
# 137 "/usr/include/bits/types.h"
typedef int __key_t;
# 137 "/usr/include/bits/types.h"
typedef int __clockid_t;
# 137 "/usr/include/bits/types.h"
typedef void * __timer_t;
# 137 "/usr/include/bits/types.h"
typedef long int __blksize_t;
# 137 "/usr/include/bits/types.h"
typedef long int __blkcnt_t;
# 137 "/usr/include/bits/types.h"
typedef long int __blkcnt64_t;
# 137 "/usr/include/bits/types.h"
typedef unsigned long int __fsblkcnt_t;
# 137 "/usr/include/bits/types.h"
typedef unsigned long int __fsblkcnt64_t;
# 137 "/usr/include/bits/types.h"
typedef unsigned long int __fsfilcnt_t;
# 137 "/usr/include/bits/types.h"
typedef unsigned long int __fsfilcnt64_t;
# 137 "/usr/include/bits/types.h"
typedef long int __fsword_t;
# 137 "/usr/include/bits/types.h"
typedef long int __ssize_t;
# 137 "/usr/include/bits/types.h"
typedef long int __syscall_slong_t;
# 137 "/usr/include/bits/types.h"
typedef unsigned long int __syscall_ulong_t;
# 202 "/usr/include/bits/types.h"
typedef __off64_t __loff_t;
typedef char *__caddr_t;
# 137 "/usr/include/bits/types.h"
typedef long int __intptr_t;
# 137 "/usr/include/bits/types.h"
typedef unsigned int __socklen_t;
# 214 "/usr/include/bits/types.h"
typedef int __sig_atomic_t;
# 24 "/usr/include/bits/stdint-intn.h"
typedef __int8_t int8_t;
typedef __int16_t int16_t;
typedef __int32_t int32_t;
typedef __int64_t int64_t;
# 24 "/usr/include/bits/stdint-uintn.h"
typedef __uint8_t uint8_t;
typedef __uint16_t uint16_t;
typedef __uint32_t uint32_t;
typedef __uint64_t uint64_t;
# 43 "/usr/include/stdint.h"
typedef __int_least8_t int_least8_t;
typedef __int_least16_t int_least16_t;
typedef __int_least32_t int_least32_t;
typedef __int_least64_t int_least64_t;
# 49 "/usr/include/stdint.h"
typedef __uint_least8_t uint_least8_t;
typedef __uint_least16_t uint_least16_t;
typedef __uint_least32_t uint_least32_t;
typedef __uint_least64_t uint_least64_t;
# 58 "/usr/include/stdint.h"
typedef signed char int_fast8_t;
# 60 "/usr/include/stdint.h"
typedef long int int_fast16_t;
typedef long int int_fast32_t;
typedef long int int_fast64_t;
# 71 "/usr/include/stdint.h"
typedef unsigned char uint_fast8_t;
# 73 "/usr/include/stdint.h"
typedef unsigned long int uint_fast16_t;
typedef unsigned long int uint_fast32_t;
typedef unsigned long int uint_fast64_t;
# 87 "/usr/include/stdint.h"
typedef long int intptr_t;
# 90 "/usr/include/stdint.h"
typedef unsigned long int uintptr_t;
# 101 "/usr/include/stdint.h"
typedef __intmax_t intmax_t;
typedef __uintmax_t uintmax_t;
# 145 "/usr/lib/gcc/x86_64-linux-gnu/13/include/stddef.h"
typedef long int ptrdiff_t;
# 214 "/usr/lib/gcc/x86_64-linux-gnu/13/include/stddef.h"
typedef long unsigned int size_t;
# 329 "/usr/lib/gcc/x86_64-linux-gnu/13/include/stddef.h"
typedef int wchar_t;
# 425 "/usr/lib/gcc/x86_64-linux-gnu/13/include/stddef.h"
typedef struct {
long long __max_align_ll __attribute__((__aligned__(__alignof__(long long))));
long double __max_align_ld __attribute__((__aligned__(__alignof__(long double))));
# 436 "/usr/lib/gcc/x86_64-linux-gnu/13/include/stddef.h"
} max_align_t;
# 37 "lib/uint16.h"
typedef short unsigned int uint16;
typedef short int int16;
# 63 "lib/uint16.h"
inline static void
uint16_pack(char* out, uint16 in) {
*(uint16*)out = in;
}
# 68 "lib/uint16.h"
inline static void
uint16_unpack(const char* in, uint16* out) {
*out = *(uint16*)in;
}
# 73 "lib/uint16.h"
inline static uint16
uint16_get(const void* ptr) {
const char* in = (const char*)ptr;
return *(uint16*)in;
}
# 79 "lib/uint16.h"
static inline uint16
uint16_read(const char* in) {
return *(uint16*)in;
}
# 108 "lib/uint16.h"
void uint16_pack_big(char* out, uint16 in);
void uint16_unpack_big(const char* in, uint16* out);
uint16 uint16_read_big(const char*);
# 40 "lib/uint32.h"
typedef unsigned int uint32;
typedef int int32;
# 68 "lib/uint32.h"
inline static void
uint32_pack(char* out, uint32 in) {
*(uint32*)out = in;
}
# 73 "lib/uint32.h"
inline static void
uint32_unpack(const char* in, uint32* out) {
*out = *(uint32*)in;
}
# 78 "lib/uint32.h"
inline static uint32
uint32_get(const void* ptr) {
const char* in = (const char*)ptr;
return *(uint32*)in;
}
# 84 "lib/uint32.h"
inline static uint32
uint32_read(const char* in) {
return *(uint32*)in;
}
# 107 "lib/uint32.h"
void uint32_pack_big(char* out, uint32 in);
void uint32_unpack_big(const char* in, uint32* out);
uint32 uint32_read_big(const char* in);
# 111 "lib/uint32.h"
uint32 uint32_random(void);
int uint32_seed(const void*, unsigned long n);
uint32 uint32_prng(uint32, uint32 seed);
# 45 "lib/uint64.h"
typedef long unsigned int uint64;
typedef long int int64;
# 61 "lib/uint64.h"
void uint64_pack_big(char* out, uint64 in);
void uint64_unpack_big(const char* in, uint64* out);
uint64 uint64_read_big(const char* in);
# 74 "lib/uint64.h"
inline static uint64
uint64_get(const void* ptr) {
const char* in = (const char*)ptr;
return *(uint64*)in;
}
# 33 "/usr/include/sys/types.h"
typedef __u_char u_char;
typedef __u_short u_short;
typedef __u_int u_int;
typedef __u_long u_long;
typedef __quad_t quad_t;
typedef __u_quad_t u_quad_t;
typedef __fsid_t fsid_t;
# 42 "/usr/include/sys/types.h"
typedef __loff_t loff_t;
# 49 "/usr/include/sys/types.h"
typedef __ino64_t ino_t;
# 59 "/usr/include/sys/types.h"
typedef __dev_t dev_t;
# 64 "/usr/include/sys/types.h"
typedef __gid_t gid_t;
# 69 "/usr/include/sys/types.h"
typedef __mode_t mode_t;
# 74 "/usr/include/sys/types.h"
typedef __nlink_t nlink_t;
# 79 "/usr/include/sys/types.h"
typedef __uid_t uid_t;
# 87 "/usr/include/sys/types.h"
typedef __off64_t off_t;
# 97 "/usr/include/sys/types.h"
typedef __pid_t pid_t;
# 103 "/usr/include/sys/types.h"
typedef __id_t id_t;
# 108 "/usr/include/sys/types.h"
typedef __ssize_t ssize_t;
# 114 "/usr/include/sys/types.h"
typedef __daddr_t daddr_t;
typedef __caddr_t caddr_t;
# 121 "/usr/include/sys/types.h"
typedef __key_t key_t;
# 7 "/usr/include/bits/types/clock_t.h"
typedef __clock_t clock_t;
# 7 "/usr/include/bits/types/clockid_t.h"
typedef __clockid_t clockid_t;
# 7 "/usr/include/bits/types/time_t.h"
typedef __time_t time_t;
# 7 "/usr/include/bits/types/timer_t.h"
typedef __timer_t timer_t;
# 148 "/usr/include/sys/types.h"
typedef unsigned long int ulong;
typedef unsigned short int ushort;
typedef unsigned int uint;
# 158 "/usr/include/sys/types.h"
typedef __uint8_t u_int8_t;
typedef __uint16_t u_int16_t;
typedef __uint32_t u_int32_t;
typedef __uint64_t u_int64_t;
# 164 "/usr/include/sys/types.h"
typedef int register_t __attribute__ ((__mode__ (__word__)));
# 33 "/usr/include/bits/byteswap.h"
static __inline __uint16_t
__bswap_16 (__uint16_t __bsx)
{
# 37 "/usr/include/bits/byteswap.h"
return __builtin_bswap16 (__bsx);
# 41 "/usr/include/bits/byteswap.h"
}
# 48 "/usr/include/bits/byteswap.h"
static __inline __uint32_t
__bswap_32 (__uint32_t __bsx)
{
# 52 "/usr/include/bits/byteswap.h"
return __builtin_bswap32 (__bsx);
# 56 "/usr/include/bits/byteswap.h"
}
# 69 "/usr/include/bits/byteswap.h"
__extension__ static __inline __uint64_t
__bswap_64 (__uint64_t __bsx)
{
# 73 "/usr/include/bits/byteswap.h"
return __builtin_bswap64 (__bsx);
# 77 "/usr/include/bits/byteswap.h"
}
# 32 "/usr/include/bits/uintn-identity.h"
static __inline __uint16_t
__uint16_identity (__uint16_t __x)
{
return __x;
}
# 38 "/usr/include/bits/uintn-identity.h"
static __inline __uint32_t
__uint32_identity (__uint32_t __x)
{
return __x;
}
# 44 "/usr/include/bits/uintn-identity.h"
static __inline __uint64_t
__uint64_identity (__uint64_t __x)
{
return __x;
}
# 5 "/usr/include/bits/types/__sigset_t.h"
typedef struct
{
unsigned long int __val[(1024 / (8 * sizeof (unsigned long int)))];
} __sigset_t;
# 7 "/usr/include/bits/types/sigset_t.h"
typedef __sigset_t sigset_t;
# 8 "/usr/include/bits/types/struct_timeval.h"
struct timeval
{
__time_t tv_sec;
__suseconds_t tv_usec;
};
# 10 "/usr/include/bits/types/struct_timespec.h"
struct timespec
{
__time_t tv_sec;
# 16 "/usr/include/bits/types/struct_timespec.h"
__syscall_slong_t tv_nsec;
# 26 "/usr/include/bits/types/struct_timespec.h"
};
# 43 "/usr/include/sys/select.h"
typedef __suseconds_t suseconds_t;
# 49 "/usr/include/sys/select.h"
typedef long int __fd_mask;
# 59 "/usr/include/sys/select.h"
typedef struct
{
# 67 "/usr/include/sys/select.h"
__fd_mask __fds_bits[1024 / (8 * (int) sizeof (__fd_mask))];
# 70 "/usr/include/sys/select.h"
} fd_set;
# 77 "/usr/include/sys/select.h"
typedef __fd_mask fd_mask;
# 101 "/usr/include/sys/select.h"
extern int select (int __nfds, fd_set *__restrict __readfds,
fd_set *__restrict __writefds,
fd_set *__restrict __exceptfds,
struct timeval *__restrict __timeout);
# 113 "/usr/include/sys/select.h"
extern int pselect (int __nfds, fd_set *__restrict __readfds,
fd_set *__restrict __writefds,
fd_set *__restrict __exceptfds,
const struct timespec *__restrict __timeout,
const __sigset_t *__restrict __sigmask);
# 185 "/usr/include/sys/types.h"
typedef __blksize_t blksize_t;
# 205 "/usr/include/sys/types.h"
typedef __blkcnt64_t blkcnt_t;
# 209 "/usr/include/sys/types.h"
typedef __fsblkcnt64_t fsblkcnt_t;
# 213 "/usr/include/sys/types.h"
typedef __fsfilcnt64_t fsfilcnt_t;
# 49 "/usr/include/bits/thread-shared-types.h"
typedef struct __pthread_internal_list
{
struct __pthread_internal_list *__prev;
struct __pthread_internal_list *__next;
} __pthread_list_t;
# 55 "/usr/include/bits/thread-shared-types.h"
typedef struct __pthread_internal_slist
{
struct __pthread_internal_slist *__next;
} __pthread_slist_t;
# 22 "/usr/include/bits/struct_mutex.h"
struct __pthread_mutex_s
{
int __lock;
unsigned int __count;
int __owner;
# 28 "/usr/include/bits/struct_mutex.h"
unsigned int __nusers;
# 32 "/usr/include/bits/struct_mutex.h"
int __kind;
# 34 "/usr/include/bits/struct_mutex.h"
short __spins;
short __elision;
__pthread_list_t __list;
# 53 "/usr/include/bits/struct_mutex.h"
};
# 23 "/usr/include/bits/struct_rwlock.h"
struct __pthread_rwlock_arch_t
{
unsigned int __readers;
unsigned int __writers;
unsigned int __wrphase_futex;
unsigned int __writers_futex;
unsigned int __pad3;
unsigned int __pad4;
# 32 "/usr/include/bits/struct_rwlock.h"
int __cur_writer;
int __shared;
signed char __rwelision;
# 39 "/usr/include/bits/struct_rwlock.h"
unsigned char __pad1[7];
# 42 "/usr/include/bits/struct_rwlock.h"
unsigned long int __pad2;
# 45 "/usr/include/bits/struct_rwlock.h"
unsigned int __flags;
# 55 "/usr/include/bits/struct_rwlock.h"
};
# 92 "/usr/include/bits/thread-shared-types.h"
struct __pthread_cond_s
{
__extension__ union
{
__extension__ unsigned long long int __wseq;
struct
{
unsigned int __low;
unsigned int __high;
} __wseq32;
};
__extension__ union
{
__extension__ unsigned long long int __g1_start;
struct
{
unsigned int __low;
unsigned int __high;
} __g1_start32;
};
unsigned int __g_refs[2] ;
unsigned int __g_size[2];
unsigned int __g1_orig_size;
unsigned int __wrefs;
unsigned int __g_signals[2];
};
# 27 "/usr/include/bits/pthreadtypes.h"
typedef unsigned long int pthread_t;
# 32 "/usr/include/bits/pthreadtypes.h"
typedef union
{
char __size[4];
int __align;
} pthread_mutexattr_t;
# 41 "/usr/include/bits/pthreadtypes.h"
typedef union
{
char __size[4];
int __align;
} pthread_condattr_t;
# 49 "/usr/include/bits/pthreadtypes.h"
typedef unsigned int pthread_key_t;
# 53 "/usr/include/bits/pthreadtypes.h"
typedef int pthread_once_t;
# 56 "/usr/include/bits/pthreadtypes.h"
union pthread_attr_t
{
char __size[56];
long int __align;
};
# 62 "/usr/include/bits/pthreadtypes.h"
typedef union pthread_attr_t pthread_attr_t;
# 67 "/usr/include/bits/pthreadtypes.h"
typedef union
{
struct __pthread_mutex_s __data;
char __size[40];
long int __align;
} pthread_mutex_t;
# 75 "/usr/include/bits/pthreadtypes.h"
typedef union
{
struct __pthread_cond_s __data;
char __size[48];
__extension__ long long int __align;
} pthread_cond_t;
# 86 "/usr/include/bits/pthreadtypes.h"
typedef union
{
struct __pthread_rwlock_arch_t __data;
char __size[56];
long int __align;
} pthread_rwlock_t;
# 93 "/usr/include/bits/pthreadtypes.h"
typedef union
{
char __size[8];
long int __align;
} pthread_rwlockattr_t;
# 103 "/usr/include/bits/pthreadtypes.h"
typedef volatile int pthread_spinlock_t;
# 108 "/usr/include/bits/pthreadtypes.h"
typedef union
{
char __size[32];
long int __align;
} pthread_barrier_t;
# 114 "/usr/include/bits/pthreadtypes.h"
typedef union
{
char __size[4];
int __align;
} pthread_barrierattr_t;
# 65 "lib/typedefs.h"
typedef long int ssize_t;
# 83 "lib/typedefs.h"
typedef long int intptr_t;
# 93 "lib/typedefs.h"
typedef int fd_type;
# 26 "lib/stralloc.h"
typedef struct stralloc_s {
char* s;
size_t len;
size_t a;
} stralloc;
# 35 "lib/stralloc.h"
void stralloc_init(stralloc* sa);
# 44 "lib/stralloc.h"
int stralloc_ready(stralloc* sa, size_t len);
# 49 "lib/stralloc.h"
int stralloc_readyplus(stralloc* sa, size_t len);
# 54 "lib/stralloc.h"
int stralloc_copyb(stralloc* sa, const char* buf, size_t len);
# 59 "lib/stralloc.h"
int stralloc_copys(stralloc* sa, const char* buf);
# 64 "lib/stralloc.h"
int stralloc_copy(stralloc* sa, const stralloc* sa2);
# 71 "lib/stralloc.h"
int stralloc_catb(stralloc* sa, const char* in, size_t len);
# 74 "lib/stralloc.h"
int stralloc_cats(stralloc* sa, const char* in);
int stralloc_catc(stralloc* sa, const unsigned char c);
# 77 "lib/stralloc.h"
void stralloc_zero(stralloc* sa);
int stralloc_trunc(stralloc* sa, size_t n);
# 81 "lib/stralloc.h"
int stralloc_catm_internal(stralloc* sa, ...);
# 92 "lib/stralloc.h"
int stralloc_cat(stralloc* sa, const stralloc* in);
# 96 "lib/stralloc.h"
int stralloc_append(stralloc* sa, const char* in);
# 109 "lib/stralloc.h"
int stralloc_starts(stralloc* sa, const char* in) ;
size_t stralloc_startb(const stralloc*, const void* prefix, size_t len);
size_t stralloc_start(const stralloc*, const stralloc* prefix);
# 116 "lib/stralloc.h"
int stralloc_diff(const stralloc* a, const stralloc* b) ;
# 121 "lib/stralloc.h"
int stralloc_diffs(const stralloc* a, const char* b) ;
# 131 "lib/stralloc.h"
int stralloc_nul(stralloc* sa);
# 133 "lib/stralloc.h"
static inline char*
stralloc_cstr(stralloc* sa) {
stralloc_nul(sa);
return sa->s;
}
# 140 "lib/stralloc.h"
size_t stralloc_catulong(stralloc* sa, unsigned long int ul);
int stralloc_catulong0(stralloc* sa, unsigned long int in, size_t n);
# 144 "lib/stralloc.h"
int stralloc_catlong0(stralloc* sa, signed long int in, size_t n);
# 147 "lib/stralloc.h"
void stralloc_free(stralloc* sa);
# 156 "lib/stralloc.h"
int stralloc_chop(stralloc* sa);
# 160 "lib/stralloc.h"
int stralloc_chomp(stralloc* sa);
# 162 "lib/stralloc.h"
void stralloc_trimr(stralloc* sa, const char* trimchars, unsigned int trimcharslen);
# 164 "lib/stralloc.h"
size_t stralloc_decamelize(const char*, stralloc* sa, char sep);
# 166 "lib/stralloc.h"
int stralloc_case_diff(const stralloc* sa1, const stralloc* sa2);
int stralloc_case_diffs(const stralloc* sa, const char* s);
int stralloc_diffb(const stralloc* sa, const void* d, unsigned int dlen);
int stralloc_diffs(const stralloc* a, const char* b);
size_t stralloc_case_equal(const stralloc* sa1, const stralloc* sa2);
size_t stralloc_case_equals(const stralloc* sa, const char* s);
size_t stralloc_cathexb(stralloc* sa, const void* d, unsigned int n);
size_t stralloc_equalb(const stralloc* sa, const void* d, unsigned int dlen);
size_t stralloc_find(const stralloc* sa, const stralloc* what);
size_t stralloc_findb(const stralloc* sa, const void* what, size_t len);
size_t stralloc_finds(const stralloc* sa, const char* what);
# 220 "lib/stralloc.h"
size_t stralloc_scan(stralloc* out, const stralloc* in, size_t (*scan_function)(const char*, char*));
# 225 "lib/stralloc.h"
inline static size_t
stralloc_length(const stralloc* sa) {
return sa->len;
}
# 238 "lib/stralloc.h"
inline static void
stralloc_iterator_increment(char** it) {
++(*it);
}
inline static int
stralloc_iterator_equal(char** it1, char** it2) {
return it1 == it2;
}
# 251 "lib/stralloc.h"
int stralloc_insertb(stralloc* sa, const char* s, size_t pos, size_t n);
int stralloc_inserts(stralloc* sa, const char* s, size_t pos);
int stralloc_insert(stralloc* sa, const stralloc* other, size_t pos);
# 255 "lib/stralloc.h"
int stralloc_subst(stralloc* out, const char* b, size_t len, const char* from, const char* to);
# 257 "lib/stralloc.h"
typedef size_t(stralloc_fmt_fn)(char*, int);
size_t stralloc_fmt_call(stralloc*, stralloc_fmt_fn*, void* av[4]);
size_t stralloc_fmt_pred(stralloc*, const char* in, size_t in_len, size_t (*fmt_function)(char*, int), int (*pred)(int));
size_t stralloc_fmt(stralloc*, const char* in, size_t in_len, size_t (*fmt_function)(char*, int));
# 262 "lib/stralloc.h"
int stralloc_catdouble(stralloc*, double d, int prec);
# 264 "lib/stralloc.h"
size_t stralloc_chr(const stralloc* sa, char c);
size_t stralloc_rchr(const stralloc* sa, char c);
# 268 "lib/stralloc.h"
int stralloc_copywcb(stralloc* sa, const wchar_t* buf, size_t len);
int stralloc_copywcs(stralloc* sa, const wchar_t* buf);
# 271 "lib/stralloc.h"
int stralloc_catwcb(stralloc* sa, const wchar_t* buf, size_t len);
int stralloc_catwcs(stralloc* sa, const wchar_t* buf);
# 275 "lib/stralloc.h"
int stralloc_shrink(stralloc* sa);
# 277 "lib/stralloc.h"
int stralloc_prependb(stralloc* sa, const char* s, size_t n);
int stralloc_prepends(stralloc* sa, const char* s);
int stralloc_prepend(stralloc* sa, const stralloc* other);
# 281 "lib/stralloc.h"
size_t stralloc_endsa(const stralloc* sa, const stralloc* suffix);
size_t stralloc_endb(const stralloc*, const char* x, size_t n);
# 286 "lib/stralloc.h"
int stralloc_expand(stralloc* sa);
# 288 "lib/stralloc.h"
size_t stralloc_remove(stralloc*, size_t pos, size_t n);
void stralloc_replacec(stralloc*, char before, char after);
int stralloc_removesuffixs(stralloc*, const char* suffix);
int stralloc_removesuffixb(stralloc*, const char* x, size_t len);
# 293 "lib/stralloc.h"
int stralloc_contains(const stralloc* sa, const char* what);
int stralloc_replaces(stralloc*, const char* from, const char* to);
int stralloc_replace(stralloc*, size_t pos, size_t len, const char* to, size_t tolen);
# 297 "lib/stralloc.h"
size_t stralloc_case_end(const stralloc*, const stralloc* suffix);
size_t stralloc_case_starts(const stralloc*, const char* prefix);
size_t stralloc_case_start(const stralloc*, const stralloc* prefix);
size_t stralloc_catuint(stralloc*, unsigned int ui);
size_t stralloc_catxlong(stralloc*, unsigned long u);
size_t stralloc_catxlong0(stralloc* sa, unsigned long n, unsigned int pad);
# 304 "lib/stralloc.h"
size_t stralloc_count(const stralloc*, char c);
size_t stralloc_erase(stralloc*);
void stralloc_lower(stralloc*);
void stralloc_move(stralloc*, stralloc* from);
char* stralloc_moveb(stralloc*, size_t* len);
int stralloc_ready_tuned(stralloc*, size_t n, size_t base, size_t a, size_t b);
void stralloc_remove_all(stralloc*, register const char* delchars, register unsigned int delcharslen);
void stralloc_replace_non_printable(stralloc*, char ch);
void stralloc_reverse_blocks(stralloc*, size_t size);
void stralloc_reverse(stralloc*);
void stralloc_upper(register stralloc*);
# 316 "lib/stralloc.h"
void stralloc_catq(stralloc*, const char*, size_t len, const char q[]);
# 322 "lib/stralloc.h"
void stralloc_alloc(stralloc*);
# 16 "lib/buffer.h"
struct buffer;
# 18 "lib/buffer.h"
typedef ssize_t buffer_op_sys(fd_type, void*, size_t);
typedef ssize_t buffer_op_proto(fd_type, void*, size_t, struct buffer*);
typedef ssize_t buffer_op_fn();
typedef void buffer_deinit(struct buffer*);
# 23 "lib/buffer.h"
typedef buffer_op_fn* buffer_op_ptr;
# 25 "lib/buffer.h"
typedef struct buffer {
char* x;
size_t p;
size_t n;
size_t a;
buffer_op_proto* op;
void* cookie;
# 33 "lib/buffer.h"
void (*deinit)(struct buffer*);
# 35 "lib/buffer.h"
fd_type fd;
} buffer;
# 46 "lib/buffer.h"
void buffer_init(buffer*, buffer_op_proto*, fd_type fd, char* y, size_t ylen);
void buffer_init_free(buffer*, buffer_op_proto*, fd_type fd, char* y, size_t ylen);
void buffer_free(buffer*);
void buffer_munmap(buffer*);
int buffer_mmapread(buffer*, const char* filename);
int buffer_mmapread_fd(buffer*, fd_type fd);
int buffer_mmapprivate(buffer*, const char* filename);
int buffer_mmapprivate_fd(buffer*, fd_type fd);
int buffer_mmapshared(buffer*, const char* filename);
int buffer_mmapshared_fd(buffer*, fd_type fd);
void buffer_close(buffer* b);
# 61 "lib/buffer.h"
int buffer_read_fd(buffer*, fd_type fd);
# 63 "lib/buffer.h"
int buffer_flush(buffer* b);
int buffer_put(buffer*, const char* x, size_t len);
int buffer_putalign(buffer*, const char* x, size_t len);
ssize_t buffer_putflush(buffer*, const char* x, size_t len);
int buffer_puts(buffer*, const char* x);
int buffer_putsalign(buffer*, const char* x);
ssize_t buffer_putsflush(buffer*, const char* x);
# 79 "lib/buffer.h"
int buffer_putm_internal(buffer* b, ...);
int buffer_putm_internal_flush(buffer* b, ...);
# 96 "lib/buffer.h"
int buffer_putspace(buffer*);
int buffer_putnlflush(buffer*);
# 101 "lib/buffer.h"
ssize_t buffer_get(buffer*, char*, size_t);
ssize_t buffer_getc(buffer*, char*);
ssize_t buffer_getn(buffer*, char*, size_t);
# 109 "lib/buffer.h"
ssize_t buffer_get_token(buffer*, char*, size_t, const char*, size_t);
ssize_t buffer_getline(buffer*, char*, size_t);
int buffer_skip_until(buffer*, const char*, size_t);
# 115 "lib/buffer.h"
typedef int (*string_predicate)(const char*, size_t, void*);
# 118 "lib/buffer.h"
ssize_t buffer_get_token_pred(buffer*, char*, size_t, string_predicate, void*);
# 120 "lib/buffer.h"
char* buffer_peek(buffer*);
int buffer_peekc(buffer*, char*);
void buffer_seek(buffer*, size_t);
void buffer_rewind(buffer*);
# 125 "lib/buffer.h"
int buffer_skipc(buffer*);
int buffer_skipn(buffer*, size_t);
# 157 "lib/buffer.h"
int buffer_putulong(buffer*, unsigned long);
int buffer_put8long(buffer*, unsigned long);
int buffer_putxlong(buffer*, unsigned long);
int buffer_putlong(buffer*, signed long);
# 162 "lib/buffer.h"
int buffer_putdouble(buffer*, double, int);
# 164 "lib/buffer.h"
int buffer_puterror(buffer*);
int buffer_puterror2(buffer*, int);
# 167 "lib/buffer.h"
extern buffer* buffer_0;
extern buffer* buffer_0small;
extern buffer* buffer_1;
extern buffer* buffer_1small;
extern buffer* buffer_2;
# 175 "lib/buffer.h"
int buffer_putsa(buffer*, const stralloc* sa);
# 177 "lib/buffer.h"
int buffer_putsaflush(buffer*, const stralloc* sa);
# 191 "lib/buffer.h"
int buffer_get_token_sa(buffer*, stralloc* sa, const char* charset, size_t setlen);
# 193 "lib/buffer.h"
int buffer_getline_sa(buffer*, stralloc* sa);
# 196 "lib/buffer.h"
int buffer_get_new_token_sa(buffer*, stralloc* sa, const char* charset, size_t setlen);
# 198 "lib/buffer.h"
int buffer_getnewline_sa(buffer*, stralloc* sa);
# 200 "lib/buffer.h"
typedef int (*sa_predicate)(stralloc* sa, void*);
# 204 "lib/buffer.h"
int buffer_get_token_sa_pred(buffer*, stralloc* sa, sa_predicate p, void*);
# 206 "lib/buffer.h"
int buffer_get_new_token_sa_pred(buffer*, stralloc* sa, sa_predicate p, void*);
# 210 "lib/buffer.h"
void buffer_fromsa(buffer*, const stralloc* sa);
int buffer_tosa(buffer* b, stralloc* sa);
# 213 "lib/buffer.h"
int buffer_gettok_sa(buffer*, stralloc* sa, const char* charset, size_t setlen);
# 215 "lib/buffer.h"
int buffer_getln(buffer*, stralloc*, int*, int);
# 217 "lib/buffer.h"
int buffer_put_escaped(buffer*, const void*, size_t, size_t (*escape)(char*, int));
int buffer_putsa_escaped(buffer*, const stralloc* sa, size_t (*escape)(char*, int));
# 221 "lib/buffer.h"
void buffer_frombuf(buffer*, const char* x, size_t l);
int buffer_copybuf(buffer*, const char* x, size_t l);
# 226 "lib/buffer.h"
void buffer_dump(buffer* out, buffer* b);
# 228 "lib/buffer.h"
int buffer_putc(buffer*, char c);
int buffer_putnspace(buffer*, int n);
# 231 "lib/buffer.h"
int buffer_putptr(buffer*, void* ptr);
int buffer_putulong0(buffer*, unsigned long l, int pad);
int buffer_putlong0(buffer*, long l, int pad);
int buffer_putxlong0(buffer*, unsigned long l, int pad);
# 236 "lib/buffer.h"
int buffer_skipspace(buffer* b);
int buffer_skip_pred(buffer*, int (*pred)(int));
# 239 "lib/buffer.h"
int buffer_putfmt_args(buffer*, const char* x, size_t len, size_t (*escape)(char*, int, void*, void*, void*, void*), void* args[]);
int buffer_putfmt(buffer* b, const char* x, size_t len, size_t (*escape)(char*, int), ...);
# 242 "lib/buffer.h"
int buffer_puts_escaped(buffer* b, const char* s, size_t (*escape)(char*, int));
# 244 "lib/buffer.h"
int buffer_put_quoted(buffer* b, const char* x, size_t len);
# 252 "lib/buffer.h"
ssize_t buffer_feed(buffer* b);
# 261 "lib/buffer.h"
ssize_t buffer_freshen(buffer* b);
# 270 "lib/buffer.h"
ssize_t buffer_prefetch(buffer*, size_t n);
# 272 "lib/buffer.h"
int buffer_appendfile(buffer* b, const char* fn);
int buffer_readfile(buffer* b, const char* fn);
int buffer_truncfile(buffer* b, const char* fn);
int buffer_writefile(buffer* b, const char* fn);
# 277 "lib/buffer.h"
int buffer_lzma(buffer*, buffer*, int compress);
int buffer_bz2(buffer*, buffer*, int compress);
int buffer_brotli(buffer*, buffer*, int compress);
# 281 "lib/buffer.h"
int buffer_putnc(buffer*, char c, int ntimes);
int buffer_putns(buffer*, const char* s, int ntimes);
# 284 "lib/buffer.h"
int buffer_putspad(buffer*, const char* x, size_t pad);
int buffer_putspadstart(buffer*, const char* x, size_t pad);
# 287 "lib/buffer.h"
int buffer_deflate(buffer*, buffer* out, int level);
int buffer_inflate(buffer*, buffer* in);
# 290 "lib/buffer.h"
int buffer_gunzip(buffer*, const char* filename);
int buffer_gunzip_fd(buffer*, fd_type fd);
int buffer_gzip(buffer*, const char* filename, int level);
int buffer_gzip_fd(buffer*, fd_type fd, int level);
int buffer_bunzip(buffer*, const char* filename);
int buffer_bunzip_fd(buffer*, fd_type fd);
int buffer_bzip(buffer*, const char* filename, int level);
int buffer_bzip_fd(buffer*, fd_type fd, int level);
# 299 "lib/buffer.h"
int buffer_get_until(buffer*, char* x, size_t len, const char* charset, size_t setlen);
# 301 "lib/buffer.h"
int buffer_write_fd(buffer*, fd_type fd);
# 304 "lib/buffer.h"
int buffer_putlonglong(buffer*, int64 l);
int buffer_putulonglong(buffer*, uint64 l);
int buffer_putxlonglong(buffer*, uint64 l);
int buffer_putulonglong(buffer*, uint64 i);
int buffer_putlonglong(buffer*, int64 i);
int buffer_putxlonglong0(buffer*, uint64 l, int pad);
int buffer_putulonglongpad(buffer*, uint64, int pad);
# 316 "lib/buffer.h"
int buffer_copy(buffer* out, buffer* in);
void buffer_putstr(buffer* b, const char* x);
void buffer_realloc(buffer* b, size_t ylen);
# 320 "lib/buffer.h"
int buffer_putxlong0u(buffer*, unsigned long l, int pad);
# 52 "/usr/include/bits/waitflags.h"
typedef enum
{
P_ALL,
P_PID,
P_PGID
} idtype_t;
# 58 "/usr/include/stdlib.h"
typedef struct
{
int quot;
int rem;
} div_t;
# 66 "/usr/include/stdlib.h"
typedef struct
{
long int quot;
long int rem;
} ldiv_t;
# 76 "/usr/include/stdlib.h"
__extension__ typedef struct
{
long long int quot;
long long int rem;
} lldiv_t;
# 97 "/usr/include/stdlib.h"
extern size_t __ctype_get_mb_cur_max (void) __attribute__ ((__nothrow__ , __leaf__)) ;
# 101 "/usr/include/stdlib.h"
extern double atof (const char *__nptr)
# 55 "/usr/include/sys/cdefs.h"
__attribute__ ((__nothrow__ , __leaf__)) __attribute__ (()) __attribute__ ((__nonnull__ (1))) ;
# 104 "/usr/include/stdlib.h"
extern int atoi (const char *__nptr)
# 55 "/usr/include/sys/cdefs.h"
__attribute__ ((__nothrow__ , __leaf__)) __attribute__ (()) __attribute__ ((__nonnull__ (1))) ;
# 107 "/usr/include/stdlib.h"
extern long int atol (const char *__nptr)
# 55 "/usr/include/sys/cdefs.h"
__attribute__ ((__nothrow__ , __leaf__)) __attribute__ (()) __attribute__ ((__nonnull__ (1))) ;
# 112 "/usr/include/stdlib.h"
__extension__ extern long long int atoll (const char *__nptr)
# 55 "/usr/include/sys/cdefs.h"
__attribute__ ((__nothrow__ , __leaf__)) __attribute__ (()) __attribute__ ((__nonnull__ (1))) ;
# 117 "/usr/include/stdlib.h"
extern double strtod (const char *__restrict __nptr,
char **__restrict __endptr)
# 55 "/usr/include/sys/cdefs.h"
__attribute__ ((__nothrow__ , __leaf__)) __attribute__ ((__nonnull__ (1)));
# 123 "/usr/include/stdlib.h"
extern float strtof (const char *__restrict __nptr,
char **__restrict __endptr) __attribute__ ((__nothrow__ , __leaf__)) __attribute__ ((__nonnull__ (1)));
# 126 "/usr/include/stdlib.h"
extern long double strtold (const char *__restrict __nptr,
char **__restrict __endptr)
# 55 "/usr/include/sys/cdefs.h"
__attribute__ ((__nothrow__ , __leaf__)) __attribute__ ((__nonnull__ (1)));
# 176 "/usr/include/stdlib.h"
extern long int strtol (const char *__restrict __nptr,
char **__restrict __endptr, int __base)
# 55 "/usr/include/sys/cdefs.h"
__attribute__ ((__nothrow__ , __leaf__)) __attribute__ ((__nonnull__ (1)));
# 180 "/usr/include/stdlib.h"
extern unsigned long int strtoul (const char *__restrict __nptr,
char **__restrict __endptr, int __base)
# 55 "/usr/include/sys/cdefs.h"
__attribute__ ((__nothrow__ , __leaf__)) __attribute__ ((__nonnull__ (1)));
# 186 "/usr/include/stdlib.h"
__extension__
extern long long int strtoq (const char *__restrict __nptr,
char **__restrict __endptr, int __base)
# 55 "/usr/include/sys/cdefs.h"
__attribute__ ((__nothrow__ , __leaf__)) __attribute__ ((__nonnull__ (1)));
# 191 "/usr/include/stdlib.h"
__extension__
extern unsigned long long int strtouq (const char *__restrict __nptr,
char **__restrict __endptr, int __base)
# 55 "/usr/include/sys/cdefs.h"
__attribute__ ((__nothrow__ , __leaf__)) __attribute__ ((__nonnull__ (1)));
# 199 "/usr/include/stdlib.h"
__extension__
extern long long int strtoll (const char *__restrict __nptr,
char **__restrict __endptr, int __base)
# 55 "/usr/include/sys/cdefs.h"
__attribute__ ((__nothrow__ , __leaf__)) __attribute__ ((__nonnull__ (1)));
# 204 "/usr/include/stdlib.h"
__extension__
extern unsigned long long int strtoull (const char *__restrict __nptr,
char **__restrict __endptr, int __base)
# 55 "/usr/include/sys/cdefs.h"
__attribute__ ((__nothrow__ , __leaf__)) __attribute__ ((__nonnull__ (1)));
# 385 "/usr/include/stdlib.h"
extern char *l64a (long int __n) __attribute__ ((__nothrow__ , __leaf__)) ;
# 388 "/usr/include/stdlib.h"
extern long int a64l (const char *__s)
# 55 "/usr/include/sys/cdefs.h"
__attribute__ ((__nothrow__ , __leaf__)) __attribute__ (()) __attribute__ ((__nonnull__ (1))) ;
# 401 "/usr/include/stdlib.h"
extern long int random (void) __attribute__ ((__nothrow__ , __leaf__));
# 404 "/usr/include/stdlib.h"
extern void srandom (unsigned int __seed) __attribute__ ((__nothrow__ , __leaf__));
# 410 "/usr/include/stdlib.h"
extern char *initstate (unsigned int __seed, char *__statebuf,
size_t __statelen) __attribute__ ((__nothrow__ , __leaf__)) __attribute__ ((__nonnull__ (2)));
# 415 "/usr/include/stdlib.h"
extern char *setstate (char *__statebuf) __attribute__ ((__nothrow__ , __leaf__)) __attribute__ ((__nonnull__ (1)));
# 423 "/usr/include/stdlib.h"
struct random_data
{
int32_t *fptr;
int32_t *rptr;
int32_t *state;
int rand_type;
int rand_deg;
int rand_sep;
int32_t *end_ptr;
};
# 434 "/usr/include/stdlib.h"
extern int random_r (struct random_data *__restrict __buf,
int32_t *__restrict __result) __attribute__ ((__nothrow__ , __leaf__)) __attribute__ ((__nonnull__ (1, 2)));
# 437 "/usr/include/stdlib.h"
extern int srandom_r (unsigned int __seed, struct random_data *__buf)
# 55 "/usr/include/sys/cdefs.h"
__attribute__ ((__nothrow__ , __leaf__)) __attribute__ ((__nonnull__ (2)));
# 440 "/usr/include/stdlib.h"
extern int initstate_r (unsigned int __seed, char *__restrict __statebuf,
size_t __statelen,
struct random_data *__restrict __buf)
# 55 "/usr/include/sys/cdefs.h"
__attribute__ ((__nothrow__ , __leaf__)) __attribute__ ((__nonnull__ (2, 4)));
# 445 "/usr/include/stdlib.h"
extern int setstate_r (char *__restrict __statebuf,
struct random_data *__restrict __buf)
# 55 "/usr/include/sys/cdefs.h"
__attribute__ ((__nothrow__ , __leaf__)) __attribute__ ((__nonnull__ (1, 2)));
# 453 "/usr/include/stdlib.h"
extern int rand (void) __attribute__ ((__nothrow__ , __leaf__));
# 455 "/usr/include/stdlib.h"
extern void srand (unsigned int __seed) __attribute__ ((__nothrow__ , __leaf__));
# 459 "/usr/include/stdlib.h"
extern int rand_r (unsigned int *__seed) __attribute__ ((__nothrow__ , __leaf__));
# 467 "/usr/include/stdlib.h"
extern double drand48 (void) __attribute__ ((__nothrow__ , __leaf__));
extern double erand48 (unsigned short int __xsubi[3]) __attribute__ ((__nothrow__ , __leaf__)) __attribute__ ((__nonnull__ (1)));
# 471 "/usr/include/stdlib.h"
extern long int lrand48 (void) __attribute__ ((__nothrow__ , __leaf__));
extern long int nrand48 (unsigned short int __xsubi[3])
# 55 "/usr/include/sys/cdefs.h"
__attribute__ ((__nothrow__ , __leaf__)) __attribute__ ((__nonnull__ (1)));
# 476 "/usr/include/stdlib.h"
extern long int mrand48 (void) __attribute__ ((__nothrow__ , __leaf__));
extern long int jrand48 (unsigned short int __xsubi[3])
# 55 "/usr/include/sys/cdefs.h"
__attribute__ ((__nothrow__ , __leaf__)) __attribute__ ((__nonnull__ (1)));
# 481 "/usr/include/stdlib.h"
extern void srand48 (long int __seedval) __attribute__ ((__nothrow__ , __leaf__));
extern unsigned short int *seed48 (unsigned short int __seed16v[3])
# 55 "/usr/include/sys/cdefs.h"
__attribute__ ((__nothrow__ , __leaf__)) __attribute__ ((__nonnull__ (1)));
# 484 "/usr/include/stdlib.h"
extern void lcong48 (unsigned short int __param[7]) __attribute__ ((__nothrow__ , __leaf__)) __attribute__ ((__nonnull__ (1)));
# 490 "/usr/include/stdlib.h"
struct drand48_data
{
unsigned short int __x[3];
unsigned short int __old_x[3];
unsigned short int __c;
unsigned short int __init;
__extension__ unsigned long long int __a;
# 498 "/usr/include/stdlib.h"
};
# 501 "/usr/include/stdlib.h"
extern int drand48_r (struct drand48_data *__restrict __buffer,
double *__restrict __result) __attribute__ ((__nothrow__ , __leaf__)) __attribute__ ((__nonnull__ (1, 2)));
extern int erand48_r (unsigned short int __xsubi[3],
struct drand48_data *__restrict __buffer,
double *__restrict __result) __attribute__ ((__nothrow__ , __leaf__)) __attribute__ ((__nonnull__ (1, 2)));
# 508 "/usr/include/stdlib.h"
extern int lrand48_r (struct drand48_data *__restrict __buffer,
long int *__restrict __result)
# 55 "/usr/include/sys/cdefs.h"
__attribute__ ((__nothrow__ , __leaf__)) __attribute__ ((__nonnull__ (1, 2)));
# 511 "/usr/include/stdlib.h"
extern int nrand48_r (unsigned short int __xsubi[3],
struct drand48_data *__restrict __buffer,
long int *__restrict __result)
# 55 "/usr/include/sys/cdefs.h"
__attribute__ ((__nothrow__ , __leaf__)) __attribute__ ((__nonnull__ (1, 2)));
# 517 "/usr/include/stdlib.h"
extern int mrand48_r (struct drand48_data *__restrict __buffer,
long int *__restrict __result)
# 55 "/usr/include/sys/cdefs.h"
__attribute__ ((__nothrow__ , __leaf__)) __attribute__ ((__nonnull__ (1, 2)));
# 520 "/usr/include/stdlib.h"
extern int jrand48_r (unsigned short int __xsubi[3],
struct drand48_data *__restrict __buffer,
long int *__restrict __result)
# 55 "/usr/include/sys/cdefs.h"
__attribute__ ((__nothrow__ , __leaf__)) __attribute__ ((__nonnull__ (1, 2)));
# 526 "/usr/include/stdlib.h"
extern int srand48_r (long int __seedval, struct drand48_data *__buffer)
# 55 "/usr/include/sys/cdefs.h"
__attribute__ ((__nothrow__ , __leaf__)) __attribute__ ((__nonnull__ (2)));
# 529 "/usr/include/stdlib.h"
extern int seed48_r (unsigned short int __seed16v[3],
struct drand48_data *__buffer) __attribute__ ((__nothrow__ , __leaf__)) __attribute__ ((__nonnull__ (1, 2)));
# 532 "/usr/include/stdlib.h"
extern int lcong48_r (unsigned short int __param[7],
struct drand48_data *__buffer)
# 55 "/usr/include/sys/cdefs.h"
__attribute__ ((__nothrow__ , __leaf__)) __attribute__ ((__nonnull__ (1, 2)));
# 539 "/usr/include/stdlib.h"
extern void *malloc (size_t __size) __attribute__ ((__nothrow__ , __leaf__)) __attribute__ ((__malloc__))
# 216 "/usr/include/sys/cdefs.h"
__attribute__ ((__alloc_size__ (1))) ;
# 542 "/usr/include/stdlib.h"
extern void *calloc (size_t __nmemb, size_t __size)
# 55 "/usr/include/sys/cdefs.h"
__attribute__ ((__nothrow__ , __leaf__)) __attribute__ ((__malloc__)) __attribute__ ((__alloc_size__ (1, 2))) ;
# 550 "/usr/include/stdlib.h"
extern void *realloc (void *__ptr, size_t __size)
# 55 "/usr/include/sys/cdefs.h"
__attribute__ ((__nothrow__ , __leaf__)) __attribute__ ((__warn_unused_result__)) __attribute__ ((__alloc_size__ (2)));
# 559 "/usr/include/stdlib.h"
extern void *reallocarray (void *__ptr, size_t __nmemb, size_t __size)
# 55 "/usr/include/sys/cdefs.h"
__attribute__ ((__nothrow__ , __leaf__)) __attribute__ ((__warn_unused_result__))
# 216 "/usr/include/sys/cdefs.h"
__attribute__ ((__alloc_size__ (2, 3)));
# 565 "/usr/include/stdlib.h"
extern void free (void *__ptr) __attribute__ ((__nothrow__ , __leaf__));
# 32 "/usr/include/alloca.h"
extern void *alloca (size_t __size) __attribute__ ((__nothrow__ , __leaf__));
# 574 "/usr/include/stdlib.h"
extern void *valloc (size_t __size) __attribute__ ((__nothrow__ , __leaf__)) __attribute__ ((__malloc__))
# 216 "/usr/include/sys/cdefs.h"
__attribute__ ((__alloc_size__ (1))) ;
# 580 "/usr/include/stdlib.h"
extern int posix_memalign (void **__memptr, size_t __alignment, size_t __size)
# 55 "/usr/include/sys/cdefs.h"
__attribute__ ((__nothrow__ , __leaf__)) __attribute__ ((__nonnull__ (1))) ;
# 586 "/usr/include/stdlib.h"
extern void *aligned_alloc (size_t __alignment, size_t __size)
# 55 "/usr/include/sys/cdefs.h"
__attribute__ ((__nothrow__ , __leaf__)) __attribute__ ((__malloc__)) __attribute__ ((__alloc_size__ (2))) ;
# 591 "/usr/include/stdlib.h"
extern void abort (void) __attribute__ ((__nothrow__ , __leaf__)) __attribute__ ((__noreturn__));
# 595 "/usr/include/stdlib.h"
extern int atexit (void (*__func) (void)) __attribute__ ((__nothrow__ , __leaf__)) __attribute__ ((__nonnull__ (1)));
# 603 "/usr/include/stdlib.h"
extern int at_quick_exit (void (*__func) (void)) __attribute__ ((__nothrow__ , __leaf__)) __attribute__ ((__nonnull__ (1)));
# 610 "/usr/include/stdlib.h"
extern int on_exit (void (*__func) (int __status, void *__arg), void *__arg)
# 55 "/usr/include/sys/cdefs.h"
__attribute__ ((__nothrow__ , __leaf__)) __attribute__ ((__nonnull__ (1)));
# 617 "/usr/include/stdlib.h"
extern void exit (int __status) __attribute__ ((__nothrow__ , __leaf__)) __attribute__ ((__noreturn__));
# 623 "/usr/include/stdlib.h"
extern void quick_exit (int __status) __attribute__ ((__nothrow__ , __leaf__)) __attribute__ ((__noreturn__));
# 629 "/usr/include/stdlib.h"
extern void _Exit (int __status) __attribute__ ((__nothrow__ , __leaf__)) __attribute__ ((__noreturn__));
# 634 "/usr/include/stdlib.h"
extern char *getenv (const char *__name) __attribute__ ((__nothrow__ , __leaf__)) __attribute__ ((__nonnull__ (1))) ;
# 647 "/usr/include/stdlib.h"
extern int putenv (char *__string) __attribute__ ((__nothrow__ , __leaf__)) __attribute__ ((__nonnull__ (1)));
# 653 "/usr/include/stdlib.h"
extern int setenv (const char *__name, const char *__value, int __replace)
# 55 "/usr/include/sys/cdefs.h"
__attribute__ ((__nothrow__ , __leaf__)) __attribute__ ((__nonnull__ (2)));
# 657 "/usr/include/stdlib.h"
extern int unsetenv (const char *__name) __attribute__ ((__nothrow__ , __leaf__)) __attribute__ ((__nonnull__ (1)));
# 664 "/usr/include/stdlib.h"
extern int clearenv (void) __attribute__ ((__nothrow__ , __leaf__));
# 675 "/usr/include/stdlib.h"
extern char *mktemp (char *__template) __attribute__ ((__nothrow__ , __leaf__)) __attribute__ ((__nonnull__ (1)));
# 691 "/usr/include/stdlib.h"
extern int mkstemp (char *__template) __asm__ ("")
# 293 "/usr/include/sys/cdefs.h"
__attribute__ ((__nonnull__ (1))) ;
# 713 "/usr/include/stdlib.h"
extern int mkstemps (char *__template, int __suffixlen) __asm__ ("") __attribute__ ((__nonnull__ (1))) ;
# 731 "/usr/include/stdlib.h"
extern char *mkdtemp (char *__template) __attribute__ ((__nothrow__ , __leaf__)) __attribute__ ((__nonnull__ (1))) ;
# 784 "/usr/include/stdlib.h"
extern int system (const char *__command) ;
# 800 "/usr/include/stdlib.h"
extern char *realpath (const char *__restrict __name,
char *__restrict __resolved) __attribute__ ((__nothrow__ , __leaf__)) ;
# 808 "/usr/include/stdlib.h"
typedef int (*__compar_fn_t) (const void *, const void *);
# 820 "/usr/include/stdlib.h"
extern void *bsearch (const void *__key, const void *__base,
size_t __nmemb, size_t __size, __compar_fn_t __compar)
# 293 "/usr/include/sys/cdefs.h"
__attribute__ ((__nonnull__ (1, 2, 5))) ;
# 830 "/usr/include/stdlib.h"
extern void qsort (void *__base, size_t __nmemb, size_t __size,
__compar_fn_t __compar) __attribute__ ((__nonnull__ (1, 4)));
# 840 "/usr/include/stdlib.h"
extern int abs (int __x) __attribute__ ((__nothrow__ , __leaf__)) __attribute__ ((__const__)) ;
extern long int labs (long int __x) __attribute__ ((__nothrow__ , __leaf__)) __attribute__ ((__const__)) ;
# 844 "/usr/include/stdlib.h"
__extension__ extern long long int llabs (long long int __x)
# 55 "/usr/include/sys/cdefs.h"
__attribute__ ((__nothrow__ , __leaf__)) __attribute__ ((__const__)) ;
# 852 "/usr/include/stdlib.h"
extern div_t div (int __numer, int __denom)
# 55 "/usr/include/sys/cdefs.h"
__attribute__ ((__nothrow__ , __leaf__)) __attribute__ ((__const__)) ;
# 854 "/usr/include/stdlib.h"
extern ldiv_t ldiv (long int __numer, long int __denom)
# 55 "/usr/include/sys/cdefs.h"
__attribute__ ((__nothrow__ , __leaf__)) __attribute__ ((__const__)) ;
# 858 "/usr/include/stdlib.h"
__extension__ extern lldiv_t lldiv (long long int __numer,
long long int __denom)
# 55 "/usr/include/sys/cdefs.h"
__attribute__ ((__nothrow__ , __leaf__)) __attribute__ ((__const__)) ;
# 872 "/usr/include/stdlib.h"
extern char *ecvt (double __value, int __ndigit, int *__restrict __decpt,
int *__restrict __sign) __attribute__ ((__nothrow__ , __leaf__)) __attribute__ ((__nonnull__ (3, 4))) ;
# 878 "/usr/include/stdlib.h"
extern char *fcvt (double __value, int __ndigit, int *__restrict __decpt,
int *__restrict __sign) __attribute__ ((__nothrow__ , __leaf__)) __attribute__ ((__nonnull__ (3, 4))) ;
# 884 "/usr/include/stdlib.h"
extern char *gcvt (double __value, int __ndigit, char *__buf)
# 55 "/usr/include/sys/cdefs.h"
__attribute__ ((__nothrow__ , __leaf__)) __attribute__ ((__nonnull__ (3))) ;
# 890 "/usr/include/stdlib.h"
extern char *qecvt (long double __value, int __ndigit,
int *__restrict __decpt, int *__restrict __sign)
# 55 "/usr/include/sys/cdefs.h"
__attribute__ ((__nothrow__ , __leaf__)) __attribute__ ((__nonnull__ (3, 4))) ;
# 893 "/usr/include/stdlib.h"
extern char *qfcvt (long double __value, int __ndigit,
int *__restrict __decpt, int *__restrict __sign)
# 55 "/usr/include/sys/cdefs.h"
__attribute__ ((__nothrow__ , __leaf__)) __attribute__ ((__nonnull__ (3, 4))) ;
# 896 "/usr/include/stdlib.h"
extern char *qgcvt (long double __value, int __ndigit, char *__buf)
# 55 "/usr/include/sys/cdefs.h"
__attribute__ ((__nothrow__ , __leaf__)) __attribute__ ((__nonnull__ (3))) ;
# 902 "/usr/include/stdlib.h"
extern int ecvt_r (double __value, int __ndigit, int *__restrict __decpt,
int *__restrict __sign, char *__restrict __buf,
size_t __len) __attribute__ ((__nothrow__ , __leaf__)) __attribute__ ((__nonnull__ (3, 4, 5)));
extern int fcvt_r (double __value, int __ndigit, int *__restrict __decpt,
int *__restrict __sign, char *__restrict __buf,
size_t __len) __attribute__ ((__nothrow__ , __leaf__)) __attribute__ ((__nonnull__ (3, 4, 5)));
# 909 "/usr/include/stdlib.h"
extern int qecvt_r (long double __value, int __ndigit,
int *__restrict __decpt, int *__restrict __sign,
char *__restrict __buf, size_t __len)
# 55 "/usr/include/sys/cdefs.h"
__attribute__ ((__nothrow__ , __leaf__)) __attribute__ ((__nonnull__ (3, 4, 5)));
# 913 "/usr/include/stdlib.h"
extern int qfcvt_r (long double __value, int __ndigit,
int *__restrict __decpt, int *__restrict __sign,
char *__restrict __buf, size_t __len)
# 55 "/usr/include/sys/cdefs.h"
__attribute__ ((__nothrow__ , __leaf__)) __attribute__ ((__nonnull__ (3, 4, 5)));
# 922 "/usr/include/stdlib.h"
extern int mblen (const char *__s, size_t __n) __attribute__ ((__nothrow__ , __leaf__));
# 925 "/usr/include/stdlib.h"
extern int mbtowc (wchar_t *__restrict __pwc,
const char *__restrict __s, size_t __n) __attribute__ ((__nothrow__ , __leaf__));
# 929 "/usr/include/stdlib.h"
extern int wctomb (char *__s, wchar_t __wchar) __attribute__ ((__nothrow__ , __leaf__));
# 933 "/usr/include/stdlib.h"
extern size_t mbstowcs (wchar_t *__restrict __pwcs,
const char *__restrict __s, size_t __n) __attribute__ ((__nothrow__ , __leaf__));
# 936 "/usr/include/stdlib.h"
extern size_t wcstombs (char *__restrict __s,
const wchar_t *__restrict __pwcs, size_t __n)
# 55 "/usr/include/sys/cdefs.h"
__attribute__ ((__nothrow__ , __leaf__));
# 946 "/usr/include/stdlib.h"
extern int rpmatch (const char *__response) __attribute__ ((__nothrow__ , __leaf__)) __attribute__ ((__nonnull__ (1))) ;
# 957 "/usr/include/stdlib.h"
extern int getsubopt (char **__restrict __optionp,
char *const *__restrict __tokens,
char **__restrict __valuep)
# 55 "/usr/include/sys/cdefs.h"
__attribute__ ((__nothrow__ , __leaf__)) __attribute__ ((__nonnull__ (1, 2, 3))) ;
# 1003 "/usr/include/stdlib.h"
extern int getloadavg (double __loadavg[], int __nelem)
# 55 "/usr/include/sys/cdefs.h"
__attribute__ ((__nothrow__ , __leaf__)) __attribute__ ((__nonnull__ (1)));
# 8 "lib/uint8.h"
typedef unsigned char uint8;
typedef signed char int8;
# 16 "lib/ip4.h"
typedef union {
# 18 "lib/ip4.h"
uint8 addr[4];
uint32 iaddr;
} ipv4addr;
# 22 "lib/ip4.h"
typedef uint16 ipv4port;
# 24 "lib/ip4.h"
static const ipv4addr IPV4ADDR_ANY = {{0, 0, 0, 0}};
static const ipv4addr IPV4ADDR_BROADCAST = {{255, 255, 255, 255}};
static const ipv4addr IPV4ADDR_LOOPBACK = {{127, 0, 0, 1}};
# 28 "lib/ip4.h"
size_t scan_ip4(const char* src, char* ip);
size_t fmt_ip4(char* dest, const char* ip);
# 38 "lib/ip4.h"
extern const char ip4loopback[4];
# 15 "lib/tls.h"
typedef enum {
TLS_ERR_NONE = 0,
TLS_ERR_SSL,
TLS_ERR_WANT_READ,
TLS_ERR_WANT_WRITE,
TLS_ERR_WANT_X509_LOOKUP,
TLS_ERR_SYSCALL,
TLS_ERR_ZERO_RETURN,
TLS_ERR_WANT_CONNECT,
TLS_ERR_WANT_ACCEPT,
} tls_err_t;
# 27 "lib/tls.h"
typedef struct ssl_st tls_t;
typedef struct x509_store_ctx_st tls_cert_t;
typedef struct ssl_method_st tls_method_t;
typedef struct bio_method_st bio_method_t;
typedef struct bio_st tls_bio_t;
typedef struct ssl_ctx_st tls_ctx_t;
# 34 "lib/tls.h"
int tls_accept(fd_type fd);
# 36 "lib/tls.h"
const bio_method_t* tls_bio_method(void);
tls_bio_t* tls_bio_socket(fd_type fd);
tls_t* tls_by_fd(fd_type fd);
tls_t* tls_client(fd_type fd);
int tls_close(fd_type fd);
int tls_connect(fd_type fd);
tls_ctx_t* tls_context(tls_method_t const* method);
tls_err_t tls_error(fd_type fd);
int tls_errno(fd_type fd);
int tls_established(fd_type fd);
void tls_free(fd_type fd);
fd_type tls_get_fd(tls_t* tls);
int tls_init(const char* key_file, const char* cert_file);
void tls_io(fd_type fd);
const bio_method_t* tls_method(void);
ssize_t tls_read(fd_type fd, void* data, size_t len);
tls_t* tls_server(fd_type fd);
const char* tls_strerror(fd_type fd);
int tls_verify(int ok, tls_cert_t* cert);
int tls_want(fd_type fd, void (*wantread)(fd_type), void (*wantwrite)(fd_type));
ssize_t tls_write(fd_type fd, const void* data, size_t len);
int tls_want(fd_type fd, void (*)(fd_type), void (*)(fd_type));
# 21 "lib/http.h"
struct http_s;
struct http_request_s;
# 24 "lib/http.h"
typedef enum {
GET = 0,
POST,
} http_req_t;
# 29 "lib/http.h"
typedef struct http_request_s {
uint32 serial;
http_req_t type;
stralloc location;
stralloc headers;
struct http_request_s* next;
} http_request;
# 37 "lib/http.h"
typedef struct http_return_s {
int ret;
int err;
} http_return_value;
# 42 "lib/http.h"
struct http_response_s;
typedef enum {
HTTP_TRANSFER_UNDEF = 0,
HTTP_TRANSFER_CHUNKED,
HTTP_TRANSFER_LENGTH,
HTTP_TRANSFER_BOUNDARY,
} http_transfer_type;
# 50 "lib/http.h"
typedef enum {
HTTP_RECV_HEADER = 1,
HTTP_RECV_DATA,
HTTP_STATUS_CLOSED,
HTTP_STATUS_ERROR,
HTTP_STATUS_BUSY,
HTTP_STATUS_FINISH,
} http_status;
# 59 "lib/http.h"
typedef struct http_response_s {
http_transfer_type transfer;
http_status status;
int code;
uint64 headers_len, data_pos;
uint64 content_length;
uint64 chunk_length;
stralloc data, boundary;
int err;
int (*header)(struct http_s*, const char*, size_t);
struct http_response_s* next;
} http_response;
# 72 "lib/http.h"
typedef struct http_s {
fd_type sock;
struct {
buffer out;
buffer in;
} q;
buffer data;
stralloc host;
ipv4addr addr;
ipv4port port;
http_request* request;
http_response* response;
tls_t* ssl;
int err;
unsigned nonblocking : 1;
unsigned keepalive : 1;
unsigned connected : 1;
unsigned tls : 1;
unsigned sent : 1;
uint16 version;
} http;
# 94 "lib/http.h"
ssize_t http_canread(http* h, void (*wantread)(fd_type), void (*wantwrite)(fd_type));
ssize_t http_canwrite(http* h, void (*wantread)(fd_type), void (*wantwrite)(fd_type));
void http_close(http* h);
# 98 "lib/http.h"
void http_dump(http*);
int buffer_chunked(buffer*, buffer*);
# 101 "lib/http.h"
char* http_get_header(char* data, size_t n, const char* name, size_t* result_len);
int http_get(http* h, const char* location);
void http_init(http* h, const char* host, uint16 port);
ssize_t http_read(fd_type, char*, size_t, buffer*);
ssize_t http_read_header(buffer*, stralloc*, http_response*);
ssize_t http_read_internal(fd_type, char*, size_t, buffer*);
# 108 "lib/http.h"
void http_response_dump(http_response* r);
void http_response_free(http_response* r);
http_response* http_response_new(http*);
ssize_t http_response_read(buffer*, http_response*);
# 113 "lib/http.h"
void http_request_dump(http_request*);
http_request* http_request_new(http*);
int http_sendreq(http* h);
size_t http_skip_header(const char* x, size_t len);
# 118 "lib/http.h"
int http_socket(http*, int);
ssize_t http_socket_read(fd_type, void*, size_t, buffer*);
ssize_t http_socket_write(fd_type, void*, size_t, buffer*);
# 122 "lib/http.h"
const char* http_strerror(http*, int);
# 34 "/usr/include/inttypes.h"
typedef int __gwchar_t;
# 271 "/usr/include/inttypes.h"
typedef struct
{
long int quot;
long int rem;
} imaxdiv_t;
# 290 "/usr/include/inttypes.h"
extern intmax_t imaxabs (intmax_t __n) __attribute__ ((__nothrow__ , __leaf__)) __attribute__ ((__const__));
# 293 "/usr/include/inttypes.h"
extern imaxdiv_t imaxdiv (intmax_t __numer, intmax_t __denom)
# 55 "/usr/include/sys/cdefs.h"
__attribute__ ((__nothrow__ , __leaf__)) __attribute__ ((__const__));
# 297 "/usr/include/inttypes.h"
extern intmax_t strtoimax (const char *__restrict __nptr,
char **__restrict __endptr, int __base) __attribute__ ((__nothrow__ , __leaf__));
# 301 "/usr/include/inttypes.h"
extern uintmax_t strtoumax (const char *__restrict __nptr,
char ** __restrict __endptr, int __base) __attribute__ ((__nothrow__ , __leaf__));
# 305 "/usr/include/inttypes.h"
extern intmax_t wcstoimax (const __gwchar_t *__restrict __nptr,
__gwchar_t **__restrict __endptr, int __base)
# 55 "/usr/include/sys/cdefs.h"
__attribute__ ((__nothrow__ , __leaf__));
# 310 "/usr/include/inttypes.h"
extern uintmax_t wcstoumax (const __gwchar_t *__restrict __nptr,
__gwchar_t ** __restrict __endptr, int __base)
# 55 "/usr/include/sys/cdefs.h"
__attribute__ ((__nothrow__ , __leaf__));
# 28 "lib/byte.h"
size_t byte_chr(const void* haystack, size_t len, char needle) ;
size_t byte_chrs(const char*, size_t, const char charset[], size_t setlen);
size_t byte_chrns(const char*, size_t, const char charset[], size_t setlen);
# 34 "lib/byte.h"
size_t byte_rchr(const void* haystack, size_t len, char needle) ;
size_t byte_rchrs(const void*, size_t, const char*, size_t);
# 39 "lib/byte.h"
void byte_copy(void* out, size_t len, const void* in);
# 43 "lib/byte.h"
void byte_copyr(void* out, size_t len, const void* in);
# 50 "lib/byte.h"
int byte_diff(const void* a, size_t len, const void* b) ;
# 53 "lib/byte.h"
void byte_zero(void* out, size_t len);
# 57 "lib/byte.h"
int byte_equal_notimingattack(const void* a, size_t len, const void* b) ;
# 59 "lib/byte.h"
void byte_fill(void* out, size_t len, int c);
# 61 "lib/byte.h"
int byte_case_diff(const void* x1, size_t len, const void* x2);
size_t byte_case_equal(const void* s, size_t len, const void* t);
size_t byte_count(const void* s, size_t n, char c);
size_t byte_equal(const void* s, size_t n, const void* t);
void byte_lower(void* s, size_t len);
void byte_upper(void* s, size_t len);
# 69 "lib/byte.h"
static inline size_t
byte_column(const void* s, size_t n) {
size_t p = byte_rchr(s, n, '\n');
return p == n ? n : n - p;
}
# 75 "lib/byte.h"
size_t byte_findb(const void* haystack, size_t hlen, const void* what, size_t wlen);
size_t byte_finds(const void* haystack, size_t hlen, const char* what);
# 83 "lib/byte.h"
size_t byte_fmt(const char* in, size_t in_len, stralloc* out, size_t (*fmt_function)(char*, unsigned int ch));
size_t byte_scan(const char* in, size_t in_len, stralloc* out, size_t (*scan_function)(), ...);
# 88 "lib/byte.h"
void byte_replace(char* x, size_t n, char before, char after);
size_t byte_ccopy(void* dst, size_t count, const void* src, char c);
# 92 "lib/byte.h"
const char* byte_triml(const char* x, size_t* len, const char* charset, unsigned int charsetlen);
# 94 "lib/byte.h"
size_t byte_trimr(const char* x, size_t n, const char* trimchars, unsigned int trimcharslen);
# 96 "lib/byte.h"
static inline char*
byte_trim(char* x, size_t* n, const char* trimchars, unsigned int trimcharslen) {
x = (char*)byte_triml(x, n, trimchars, trimcharslen);
*n = byte_trimr(x, *n, trimchars, trimcharslen);
return x;
}
# 103 "lib/byte.h"
size_t byte_camelize(char* x, size_t len);
# 108 "lib/byte.h"
int byte_startb(const void*, size_t, const char*, size_t);
int byte_starts(const void*, size_t, const char*);
# 111 "lib/byte.h"
int byte_endb(const void*, size_t, const char*, size_t);
int byte_ends(const void*, size_t, const char*);
# 114 "lib/byte.h"
int byte_diff2(const char* a, size_t alen, const char* b, size_t blen);
# 117 "lib/byte.h"
uint32 byte_hash(const void* x, size_t len);
# 20 "lib/strlist.h"
typedef int(strlist_cmpfn_t)(const void*, const void*);
typedef int(strlist_filterfn_t)(const void*, size_t);
# 25 "lib/strlist.h"
typedef struct strlist_s {
stralloc sa;
char sep;
} strlist;
# 52 "lib/strlist.h"
static inline size_t
strlist_skip(const strlist* sl, char* ptr) {
const char* end = sl->sa.s + sl->sa.len;
size_t ret = (byte_chr(ptr, (((sl))->sa.s + ((sl))->sa.len) - (ptr), (sl)->sep));
# 57 "lib/strlist.h"
if(ptr + ret < end && ptr[ret] == sl->sep)
++ret;
return ret;
}
# 62 "lib/strlist.h"
static inline char*
strlist_next(const strlist* sl, char* ptr) {
ptr += (byte_chr(ptr, (((sl))->sa.s + ((sl))->sa.len) - (ptr), (sl)->sep));
# 66 "lib/strlist.h"
if(ptr < ((sl)->sa.s + (sl)->sa.len) && *ptr == sl->sep)
++ptr;
return ptr;
}
# 71 "lib/strlist.h"
static inline char*
strlist_next_b(const strlist* sl, const char* ptr, size_t* n) {
const char* end = sl->sa.s + sl->sa.len;
ptr += (byte_chr(ptr, (((sl))->sa.s + ((sl))->sa.len) - (ptr), (sl)->sep));
# 76 "lib/strlist.h"
if(ptr < end && *ptr == sl->sep) {
if(++ptr < end && n) {
*n = (byte_chr(ptr, (((sl))->sa.s + ((sl))->sa.len) - (ptr), (sl)->sep));
return (char*)ptr;
}
}
return 0;
}
# 85 "lib/strlist.h"
void strlist_init(strlist* sl, char sep);
char* strlist_at(const strlist*, size_t i);
char* strlist_at_n(const strlist*, size_t i, size_t* n);
int strlist_cat(strlist*, const strlist* l);
int strlist_cat_unique(strlist*, const strlist* l);
int strlist_containsb(const strlist*, const char* x, size_t len);
int strlist_contains(const strlist*, const char* s);
size_t strlist_count(const strlist*);
size_t strlist_count_pred(strlist*, int (*predicate)(const char*, size_t));
size_t strlist_diff(const strlist*, const strlist* b, strlist* out);
void strlist_fromb(strlist*, const char* x, size_t n, const char* delim);
void strlist_froms(strlist*, const char*, char delim);
void strlist_fromv(strlist*, const char*[], int c);
int64 strlist_index_of_b(strlist*, const char* x, size_t n);
int64 strlist_index_of(strlist*, const char* str);
int strlist_pop(strlist*);
int64 strlist_pos(const strlist*, size_t index);
int strlist_prependb(strlist*, const char* b, size_t n);
int strlist_prepends(strlist*, const char* s);
int strlist_pushb(strlist*, const char* s, size_t n);
int strlist_pushb_unique(strlist*, const char* s, size_t n);
int strlist_pushm_internal(strlist*, ...);
int strlist_push(strlist*, const char* s);
void strlist_push_tokens(strlist*, const char* s, const char* delim);
int strlist_push_unique(strlist*, const char* s);
strlist strlist_range(const strlist*, size_t from, size_t to);
size_t strlist_remove_all(strlist*, const strlist* remove);
int strlist_remove_at(strlist*, size_t n);
int strlist_removeb(strlist*, const char* x, size_t n);
int strlist_removes(strlist*, const char* s);
int strlist_shift_n(strlist*, size_t i);
int strlist_shift(strlist*, const char** strp);
size_t strlist_sort(strlist*, strlist_cmpfn_t* cmp_fn);
int strlist_sub(strlist*, const strlist* o);
char** strlist_to_argv(const strlist*);
int strlist_trunc(strlist*, size_t items);
int strlist_unshiftb(strlist*, const char* x, size_t len);
int strlist_unshift(strlist*, const char* s);
int strlist_splice(strlist*, size_t pos, size_t ndelete, char* x, size_t n);
int strlist_replaceb(strlist*, const char* x, size_t n, const char* y, size_t len);
# 127 "lib/strlist.h"
int strlist_append_sa(strlist*, const stralloc* sa);
size_t strlist_at_sa(const strlist* sl, stralloc* out, size_t i);
int strlist_contains_sa(strlist*, const stralloc* sa);
int strlist_copyat(const strlist*, size_t i, stralloc* out);
void strlist_join(const strlist*, stralloc* sa, char delim);
void strlist_joins(const strlist*, stralloc* sa, const char* delim);
int strlist_prepend_sa(strlist*, const stralloc* sa);
int strlist_push_sa(strlist*, const stralloc* sa);
int strlist_push_unique_sa(strlist*, const stralloc* sa);
void strlist_joinq(const strlist*, stralloc* sa, char delim, char quote);
# 140 "lib/strlist.h"
void buffer_putsl(buffer*, const strlist* sl, const char* separator);
void buffer_putslq(buffer* out, const strlist* sl, char delim, char quote);
# 143 "lib/strlist.h"
void strlist_dump(buffer*, const strlist* sl);
void strlist_dump_named(buffer*, const strlist* sl, const char* names[]);
# 147 "lib/strlist.h"
void strlist_intersection(const strlist* s1, const strlist* s2, strlist* out);
void strlist_sorted_intersection(const strlist* s1, const strlist* s2, strlist* out);
void strlist_difference(const strlist* s1, const strlist* s2, strlist* out1, strlist* out2);
void strlist_union(const strlist* s1, const strlist* s2, strlist* out);
# 152 "lib/strlist.h"
void strlist_fromq(strlist* sl, const char* s, size_t len, const char* delim, const char* quote);
void strlist_fromsq(strlist* sl, const char* s, const char* delim, const char* quote);
void strlist_slice(strlist* out, const strlist* in, int start, int end);
void strlist_joinq(const strlist* sl, stralloc* sa, char delim, char quote);
# 157 "lib/strlist.h"
ssize_t strlist_match(const strlist* sl, const char* pattern, int start);
void strlist_filter(const strlist*, strlist* matching, strlist* not_matching, const char* pattern);
void strlist_copy(strlist*, const strlist* in);
# 46 "lib/iarray.h"
typedef struct _iarray_page {
struct _iarray_page* next;
# 49 "lib/iarray.h"
char data[0];
# 51 "lib/iarray.h"
} iarray_page;
# 55 "lib/iarray.h"
typedef struct {
iarray_page* pages[16];
size_t elemsize, elemperpage, bytesperpage;
# 59 "lib/iarray.h"
volatile
# 61 "lib/iarray.h"
unsigned long len;
} iarray;
# 64 "lib/iarray.h"
void* iarray_allocate(iarray*, size_t pos);
void* iarray_get(iarray*, size_t pos);
void iarray_init(iarray*, size_t elemsize);
size_t iarray_length(iarray*);
# 72 "lib/iarray.h"
void iarray_free(iarray*);
# 30 "lib/tai.h"
typedef struct tai {
uint64 x;
} tai64;
# 44 "lib/tai.h"
void tai_now(struct tai*);
# 52 "lib/tai.h"
void tai_add(struct tai*, const struct tai*, const struct tai*);
# 55 "lib/tai.h"
void tai_sub(struct tai*, const struct tai*, const struct tai*);
# 62 "lib/tai.h"
void tai_pack(char*, const struct tai*);
# 65 "lib/tai.h"
void tai_unpack(const char*, struct tai*);
# 67 "lib/tai.h"
void tai_uint(struct tai*, unsigned int);
# 23 "lib/taia.h"
typedef struct taia {
struct tai sec;
uint32 nano;
uint32 atto;
} tai6464;
# 30 "lib/taia.h"
void taia_tai(const tai6464* source, tai64* dest);
# 33 "lib/taia.h"
void taia_now(struct taia*);
# 36 "lib/taia.h"
double taia_approx(const tai6464*);
# 39 "lib/taia.h"
double taia_frac(const tai6464*);
# 43 "lib/taia.h"
void taia_add(tai6464* dest, const tai6464* source1, const tai6464* source2);
# 45 "lib/taia.h"
void taia_addsec(tai6464* dest, const tai6464* source, long secs);
# 48 "lib/taia.h"
void taia_sub(tai6464* dest, const tai6464* source1, const tai6464* source2);
# 51 "lib/taia.h"
void taia_half(tai6464* dest, const tai6464* source);
# 53 "lib/taia.h"
int taia_less(const tai6464* a, const tai6464* b);
# 63 "lib/taia.h"
void taia_pack(char* buf, const tai6464* src);
# 66 "lib/taia.h"
void taia_unpack(const char* buf, tai6464* dest);
# 74 "lib/taia.h"
unsigned int taia_fmtfrac(char* s, const tai6464* t);
# 77 "lib/taia.h"
void taia_uint(tai6464* t, unsigned int secs);
# 23 "lib/io.h"
typedef struct ioent io_entry;
# 28 "lib/io.h"
int io_readfile(fd_type* pfd, const char* s);
# 33 "lib/io.h"
int io_createfile(fd_type* pfd, const char* s);
# 37 "lib/io.h"
int io_readwritefile(fd_type* pfd, const char* s);
# 41 "lib/io.h"
int io_appendfile(fd_type* pfd, const char* s);
# 46 "lib/io.h"
int io_pipe(fd_type* pfd);
# 50 "lib/io.h"
int io_socketpair(fd_type* pfd);
# 53 "lib/io.h"
int64 io_tryread(fd_type d, char* buf, int64 len);
# 56 "lib/io.h"
int64 io_waitread(fd_type d, char* buf, int64 len);
# 59 "lib/io.h"
int64 io_trywrite(fd_type d, const char* buf, int64 len);
# 62 "lib/io.h"
int64 io_waitwrite(fd_type d, const char* buf, int64 len);
# 65 "lib/io.h"
void io_timeout(fd_type d, tai6464 t);
# 69 "lib/io.h"
int64 io_tryreadtimeout(fd_type d, char* buf, int64 len);
# 73 "lib/io.h"
int64 io_trywritetimeout(fd_type d, const char* buf, int64 len);
# 75 "lib/io.h"
void io_wantread(fd_type d);
void io_wantwrite(fd_type d);
void io_dontwantread(fd_type d);
void io_dontwantwrite(fd_type d);
# 80 "lib/io.h"
void io_onlywantread(fd_type);
void io_onlywantwrite(fd_type);
# 83 "lib/io.h"
int io_get_wantread(fd_type d);
int io_get_wantwrite(fd_type d);
# 86 "lib/io.h"
int64 io_wait();
void io_waituntil(tai6464 t);
int64 io_waituntil2(int64 milliseconds);
void io_check();
# 93 "lib/io.h"
void io_eagain(fd_type d);
# 95 "lib/io.h"
void io_eagain_read(fd_type d);
void io_eagain_write(fd_type d);
# 99 "lib/io.h"
int64 io_canread();
# 101 "lib/io.h"
int64 io_canwrite();
# 104 "lib/io.h"
int64 io_timeouted();
# 107 "lib/io.h"
int io_timedout(fd_type d);
# 113 "lib/io.h"
enum io_fd_flags {
IO_FD_CANWRITE = 1,
IO_FD_BLOCK = 2,
IO_FD_NONBLOCK = 4,
};
# 121 "lib/io.h"
int io_fd(fd_type d);
# 123 "lib/io.h"
int io_fd_canwrite(fd_type d);
# 125 "lib/io.h"
int io_fd_flags(fd_type d, int flags);
# 127 "lib/io.h"
void io_setcookie(fd_type d, void* cookie);
void* io_getcookie(fd_type d);
# 131 "lib/io.h"
void io_nonblock(fd_type d);
# 133 "lib/io.h"
void io_block(fd_type d);
# 135 "lib/io.h"
void io_closeonexec(fd_type d);
# 137 "lib/io.h"
void io_close(fd_type d);
# 143 "lib/io.h"
void io_finishandshutdown(void);
# 147 "lib/io.h"
int64 io_sendfile(fd_type s, fd_type fd, uint64 off, uint64 n);
# 151 "lib/io.h"
int io_passfd(fd_type sock, fd_type fd);
# 155 "lib/io.h"
int64 io_receivefd(fd_type sock);
# 157 "lib/io.h"
int io_starteventloopthread(unsigned int threads);
# 162 "lib/io.h"
int io_queueforread(fd_type d);
# 165 "lib/io.h"
int io_queueforwrite(fd_type d);
# 167 "lib/io.h"
typedef int64 (*io_write_callback)(fd_type sfd, const void* buf, uint64 n);
# 170 "lib/io.h"
int64 io_mmapwritefile(fd_type out, fd_type in, uint64 off, uint64 bytes, io_write_callback writecb);
# 174 "lib/io.h"
unsigned int io_debugstring(fd_type sfd, char* buf, unsigned int bufsize);
# 176 "lib/io.h"
void* io_getfds(void);
# 200 "lib/io.h"
void io_dump(buffer*);
# 32 "lib/iopause.h"
typedef struct {
fd_type fd;
short events;
short revents;
} iopause_fd;
# 43 "lib/iopause.h"
extern void iopause(iopause_fd*, unsigned int, struct taia*, struct taia*);
# 20 "lib/errmsg.h"
extern const char* errmsg_argv0;
# 22 "lib/errmsg.h"
const char* errmsg_iam(const char* who);
# 26 "lib/errmsg.h"
void errmsg_warn(const char* message, ...);
void errmsg_warnsys(const char* message, ...);
void errmsg_warnerr(int err, const char* message, ...);
# 30 "lib/errmsg.h"
void errmsg_info(const char* message, ...);
void errmsg_infosys(const char* message, ...);
# 50 "lib/fmt.h"
size_t fmt_long(char* dest, signed long src);
# 54 "lib/fmt.h"
size_t fmt_ulong(char* dest, unsigned long src);
# 58 "lib/fmt.h"
size_t fmt_xlong(char* dest, unsigned long src);
# 62 "lib/fmt.h"
size_t fmt_8long(char* dest, unsigned long src);
# 71 "lib/fmt.h"
size_t fmt_ulong0(char*, unsigned long src, size_t padto);
# 77 "lib/fmt.h"
size_t fmt_double(char* dest, double d, int max, int prec);
# 82 "lib/fmt.h"
size_t fmt_plusminus(char* dest, int src);
# 86 "lib/fmt.h"
size_t fmt_minus(char* dest, int src);
# 89 "lib/fmt.h"
size_t fmt_str(char* dest, const char* src);
# 93 "lib/fmt.h"
size_t fmt_strn(char* dest, const char* src, size_t limit);
# 99 "lib/fmt.h"
size_t fmt_pad(char* dest, const char* src, size_t srclen, size_t padlen, size_t maxlen);
# 105 "lib/fmt.h"
size_t fmt_fill(char* dest, size_t srclen, size_t padlen, size_t maxlen);
# 108 "lib/fmt.h"
size_t fmt_human(char* dest, uint64 l);
# 111 "lib/fmt.h"
size_t fmt_humank(char* dest, uint64 l);
# 114 "lib/fmt.h"
size_t fmt_httpdate(char* dest, time_t t);
# 120 "lib/fmt.h"
size_t fmt_utf8(char* dest, uint32 n);
size_t fmt_asn1derlength(char* dest, uint64 l);
size_t fmt_asn1dertag(char* dest, uint64 l);
# 125 "lib/fmt.h"
char fmt_tohex(char c);
# 133 "lib/fmt.h"
size_t fmt_strm_internal(char* dest, ...);
# 159 "lib/fmt.h"
size_t fmt_ulonglong(char* dest, uint64 i);
size_t fmt_longlong(char* dest, int64 i);
size_t fmt_xlonglong(char* dest, uint64 x);
size_t fmt_octal(char* dest, uint64 o);
# 164 "lib/fmt.h"
size_t fmt_escapecharquotedprintable(char* dest, int ch);
size_t fmt_escapecharquotedprintableutf8(char* dest, int ch);
size_t fmt_escapecharnonprintable(char* dest, int c);
# 168 "lib/fmt.h"
size_t fmt_hexb(void* out, const void* d, size_t len);
size_t fmt_hexbs(void* out, const void* d, size_t len);
# 171 "lib/fmt.h"
size_t fmt_xmlescape(char* dest, int ch);
# 174 "lib/fmt.h"
size_t fmt_escapecharc(char* dest, int ch);
# 176 "lib/fmt.h"
size_t fmt_escapecharshell(char* dest, int ch);
size_t fmt_escapecharquotedshell(char*, int ch);
size_t fmt_escapechardoublequotedshell(char* dest, int ch);
# 180 "lib/fmt.h"
size_t fmt_escapecharjson(char* dest, int ch, int quote);
# 184 "lib/fmt.h"
size_t fmt_tai(char* dest, const struct tai* ta);
# 186 "lib/fmt.h"
size_t fmt_iso8601(char* dest, time_t t);
# 188 "lib/fmt.h"
char fmt_tohex(char c);
size_t fmt_repeat(char* dest, const char* src, int n);
# 191 "lib/fmt.h"
size_t fmt_escapecharxml(char*, unsigned int ch);
# 193 "lib/fmt.h"
size_t fmt_xlong0(char*, size_t num, size_t n);
# 195 "lib/fmt.h"
size_t fmt_escapecharcontrol(char*, int c);
# 197 "lib/fmt.h"
size_t fmt_xlong0u(char*, size_t num, size_t n);
size_t fmt_xlongu(char*, unsigned long i);
# 19 "lib/open.h"
int open_read(const char* filename);
# 23 "lib/open.h"
int open_excl(const char* filename);
# 30 "lib/open.h"
int open_append(const char* filename);
# 35 "lib/open.h"
int open_trunc(const char* filename);
# 39 "lib/open.h"
int open_write(const char* filename);
# 43 "lib/open.h"
int open_rw(const char* filename);
# 45 "lib/open.h"
int open_rwsync(const char* filename);
# 48 "lib/open.h"
int openreadclose(const char* fn, stralloc* sa, size_t bufsize);
ssize_t readclose_append(int64 fd, stralloc* sa, size_t bufsize);
ssize_t readclose(int64 fd, stralloc* sa, size_t bufsize);
int open_filename(fd_type, stralloc*);
# 54 "lib/open.h"
int open_temp(char**);
# 21 "lib/str.h"
size_t str_copy(char* out, const char* in);
size_t str_copyn(void* p1, const void* p2, size_t max);
# 29 "lib/str.h"
int str_diff(const char* a, const char* b) ;
# 37 "lib/str.h"
int str_diffn(const char* a, const char* b, size_t limit) ;
# 39 "lib/str.h"
size_t str_len(const char* in);
# 44 "lib/str.h"
size_t str_chr(const char* haystack, char needle) ;
size_t str_chrs(const char* in, const char needles[], size_t nn) ;
size_t str_str(const char* haystack, const char* needle) ;
# 51 "lib/str.h"
size_t str_rchr(const char* haystack, char needle) ;
size_t str_rchrs(const char* haystack, const char needles[], size_t);
# 55 "lib/str.h"
int str_endb(const char*, const char*, size_t);
int str_end(const char*, const char*);
int str_startb(const char*, const char*, size_t);
int str_start(const char*, const char*);
# 60 "lib/str.h"
char* str_istr(char* s, char* find);
char* str_tok(char* s, const char* delim, char** ptrptr);
char* str_dup(const char* s);
char* str_ndup(const char* s, size_t n);
# 65 "lib/str.h"
char* str_basename(const char* s);
# 68 "lib/str.h"
char* str_decamelize(const char* s, char sep);
# 70 "lib/str.h"
int str_case_diff(const void* p1, const void* p2);
int str_case_diffn(const void* p1, const void* p2, size_t n);
size_t str_case_equal(const void* s, const void* t);
size_t str_case_start(const void* p1, const void* p2);
size_t str_cat(void* p1, const void* p2);
size_t str_catn(void* p1, const void* p2, size_t max);
# 77 "lib/str.h"
size_t str_copyb(void* p1, const void* p2, size_t max);
size_t str_find(const void* s, const void* what);
size_t str_findb(const char*, const char* x, size_t n);
size_t str_rfindb(const char* s1, const char* x, size_t n);
size_t str_rfind(const void* s, const void* what);
void str_lower(void* str);
# 84 "lib/str.h"
struct tm;
# 86 "lib/str.h"
char* str_ptime(const char* s, const char* format, struct tm* tm);
# 88 "lib/str.h"
char* str_basename(const char* s);
# 90 "lib/str.h"
int str_is(const char* s, int (*pred)(int));
# 92 "lib/str.h"
size_t str_camelize(char*);
# 94 "lib/str.h"
char* str_triml(char*, const char* charset, unsigned int charsetlen);
# 105 "lib/str.h"
size_t str_ansilen(const char* in);
# 8 "lib/getopt.h"
int unix_getopt(int argc, char* const argv[], const char* optstring);
# 10 "lib/getopt.h"
extern char* unix_optarg;
extern int unix_optind, unix_opterr, unix_optopt;
# 17 "lib/getopt.h"
struct unix_longopt {
const char* name;
int has_arg;
int* flag;
int val;
};
# 24 "lib/getopt.h"
int unix_getopt_long(int argc, char* const* argv, const char* optstring, const struct unix_longopt*, int*);
# 26 "lib/getopt.h"
int unix_getopt_long_only(int argc, char* const* argv, const char* shortopts, const struct unix_longopt* longopts, int* indexptr);
# 255 "/usr/include/unistd.h"
typedef __useconds_t useconds_t;
# 274 "/usr/include/unistd.h"
typedef __socklen_t socklen_t;
# 287 "/usr/include/unistd.h"
extern int access (const char *__name, int __type) __attribute__ ((__nothrow__ , __leaf__)) __attribute__ ((__nonnull__ (1)));
# 304 "/usr/include/unistd.h"
extern int faccessat (int __fd, const char *__file, int __type, int __flag)
# 55 "/usr/include/sys/cdefs.h"
__attribute__ ((__nothrow__ , __leaf__)) __attribute__ ((__nonnull__ (2))) ;
# 337 "/usr/include/unistd.h"
extern __off64_t lseek (int __fd, __off64_t __offset, int __whence) __asm__ ("") __attribute__ ((__nothrow__ , __leaf__));
# 353 "/usr/include/unistd.h"
extern int close (int __fd);
# 360 "/usr/include/unistd.h"
extern ssize_t read (int __fd, void *__buf, size_t __nbytes) ;
# 366 "/usr/include/unistd.h"
extern ssize_t write (int __fd, const void *__buf, size_t __n) ;
# 388 "/usr/include/unistd.h"
extern ssize_t pread (int __fd, void *__buf, size_t __nbytes,
__off64_t __offset) __asm__ ("") ;
# 391 "/usr/include/unistd.h"
extern ssize_t pwrite (int __fd, const void *__buf,
size_t __nbytes, __off64_t __offset) __asm__ ("") ;
# 417 "/usr/include/unistd.h"
extern int pipe (int __pipedes[2]) __attribute__ ((__nothrow__ , __leaf__)) ;
# 432 "/usr/include/unistd.h"
extern unsigned int alarm (unsigned int __seconds) __attribute__ ((__nothrow__ , __leaf__));
# 444 "/usr/include/unistd.h"
extern unsigned int sleep (unsigned int __seconds);
# 452 "/usr/include/unistd.h"
extern __useconds_t ualarm (__useconds_t __value, __useconds_t __interval)
# 55 "/usr/include/sys/cdefs.h"
__attribute__ ((__nothrow__ , __leaf__));
# 460 "/usr/include/unistd.h"
extern int usleep (__useconds_t __useconds);
# 469 "/usr/include/unistd.h"
extern int pause (void);
# 473 "/usr/include/unistd.h"
extern int chown (const char *__file, __uid_t __owner, __gid_t __group)
# 55 "/usr/include/sys/cdefs.h"
__attribute__ ((__nothrow__ , __leaf__)) __attribute__ ((__nonnull__ (1))) ;
# 478 "/usr/include/unistd.h"
extern int fchown (int __fd, __uid_t __owner, __gid_t __group) __attribute__ ((__nothrow__ , __leaf__)) ;
# 483 "/usr/include/unistd.h"
extern int lchown (const char *__file, __uid_t __owner, __gid_t __group)
# 55 "/usr/include/sys/cdefs.h"
__attribute__ ((__nothrow__ , __leaf__)) __attribute__ ((__nonnull__ (1))) ;
# 491 "/usr/include/unistd.h"
extern int fchownat (int __fd, const char *__file, __uid_t __owner,
__gid_t __group, int __flag)
# 55 "/usr/include/sys/cdefs.h"
__attribute__ ((__nothrow__ , __leaf__)) __attribute__ ((__nonnull__ (2))) ;
# 497 "/usr/include/unistd.h"
extern int chdir (const char *__path) __attribute__ ((__nothrow__ , __leaf__)) __attribute__ ((__nonnull__ (1))) ;
# 501 "/usr/include/unistd.h"
extern int fchdir (int __fd) __attribute__ ((__nothrow__ , __leaf__)) ;
# 511 "/usr/include/unistd.h"
extern char *getcwd (char *__buf, size_t __size) __attribute__ ((__nothrow__ , __leaf__)) ;
# 525 "/usr/include/unistd.h"
extern char *getwd (char *__buf)
# 55 "/usr/include/sys/cdefs.h"
__attribute__ ((__nothrow__ , __leaf__)) __attribute__ ((__nonnull__ (1))) __attribute__ ((__deprecated__)) ;
# 531 "/usr/include/unistd.h"
extern int dup (int __fd) __attribute__ ((__nothrow__ , __leaf__)) ;
# 534 "/usr/include/unistd.h"
extern int dup2 (int __fd, int __fd2) __attribute__ ((__nothrow__ , __leaf__));
# 543 "/usr/include/unistd.h"
extern char **__environ;
# 551 "/usr/include/unistd.h"
extern int execve (const char *__path, char *const __argv[],
char *const __envp[]) __attribute__ ((__nothrow__ , __leaf__)) __attribute__ ((__nonnull__ (1, 2)));
# 557 "/usr/include/unistd.h"
extern int fexecve (int __fd, char *const __argv[], char *const __envp[])
# 55 "/usr/include/sys/cdefs.h"
__attribute__ ((__nothrow__ , __leaf__)) __attribute__ ((__nonnull__ (2)));
# 563 "/usr/include/unistd.h"
extern int execv (const char *__path, char *const __argv[])
# 55 "/usr/include/sys/cdefs.h"
__attribute__ ((__nothrow__ , __leaf__)) __attribute__ ((__nonnull__ (1, 2)));
# 568 "/usr/include/unistd.h"
extern int execle (const char *__path, const char *__arg, ...)
# 55 "/usr/include/sys/cdefs.h"
__attribute__ ((__nothrow__ , __leaf__)) __attribute__ ((__nonnull__ (1, 2)));
# 573 "/usr/include/unistd.h"
extern int execl (const char *__path, const char *__arg, ...)
# 55 "/usr/include/sys/cdefs.h"
__attribute__ ((__nothrow__ , __leaf__)) __attribute__ ((__nonnull__ (1, 2)));
# 578 "/usr/include/unistd.h"
extern int execvp (const char *__file, char *const __argv[])
# 55 "/usr/include/sys/cdefs.h"
__attribute__ ((__nothrow__ , __leaf__)) __attribute__ ((__nonnull__ (1, 2)));
# 584 "/usr/include/unistd.h"
extern int execlp (const char *__file, const char *__arg, ...)
# 55 "/usr/include/sys/cdefs.h"
__attribute__ ((__nothrow__ , __leaf__)) __attribute__ ((__nonnull__ (1, 2)));
# 598 "/usr/include/unistd.h"
extern int nice (int __inc) __attribute__ ((__nothrow__ , __leaf__)) ;
# 603 "/usr/include/unistd.h"
extern void _exit (int __status) __attribute__ ((__noreturn__));
# 24 "/usr/include/bits/confname.h"
enum
{
_PC_LINK_MAX,
# 28 "/usr/include/bits/confname.h"
_PC_MAX_CANON,
# 30 "/usr/include/bits/confname.h"
_PC_MAX_INPUT,
# 32 "/usr/include/bits/confname.h"
_PC_NAME_MAX,
# 34 "/usr/include/bits/confname.h"
_PC_PATH_MAX,
# 36 "/usr/include/bits/confname.h"
_PC_PIPE_BUF,
# 38 "/usr/include/bits/confname.h"
_PC_CHOWN_RESTRICTED,
# 40 "/usr/include/bits/confname.h"
_PC_NO_TRUNC,
# 42 "/usr/include/bits/confname.h"
_PC_VDISABLE,
# 44 "/usr/include/bits/confname.h"
_PC_SYNC_IO,
# 46 "/usr/include/bits/confname.h"
_PC_ASYNC_IO,
# 48 "/usr/include/bits/confname.h"
_PC_PRIO_IO,
# 50 "/usr/include/bits/confname.h"
_PC_SOCK_MAXBUF,
# 52 "/usr/include/bits/confname.h"
_PC_FILESIZEBITS,
# 54 "/usr/include/bits/confname.h"
_PC_REC_INCR_XFER_SIZE,
# 56 "/usr/include/bits/confname.h"
_PC_REC_MAX_XFER_SIZE,
# 58 "/usr/include/bits/confname.h"
_PC_REC_MIN_XFER_SIZE,
# 60 "/usr/include/bits/confname.h"
_PC_REC_XFER_ALIGN,
# 62 "/usr/include/bits/confname.h"
_PC_ALLOC_SIZE_MIN,
# 64 "/usr/include/bits/confname.h"
_PC_SYMLINK_MAX,
# 66 "/usr/include/bits/confname.h"
_PC_2_SYMLINKS
# 68 "/usr/include/bits/confname.h"
};
# 71 "/usr/include/bits/confname.h"
enum
{
_SC_ARG_MAX,
# 75 "/usr/include/bits/confname.h"
_SC_CHILD_MAX,
# 77 "/usr/include/bits/confname.h"
_SC_CLK_TCK,
# 79 "/usr/include/bits/confname.h"
_SC_NGROUPS_MAX,
# 81 "/usr/include/bits/confname.h"
_SC_OPEN_MAX,
# 83 "/usr/include/bits/confname.h"
_SC_STREAM_MAX,
# 85 "/usr/include/bits/confname.h"
_SC_TZNAME_MAX,
# 87 "/usr/include/bits/confname.h"
_SC_JOB_CONTROL,
# 89 "/usr/include/bits/confname.h"
_SC_SAVED_IDS,
# 91 "/usr/include/bits/confname.h"
_SC_REALTIME_SIGNALS,
# 93 "/usr/include/bits/confname.h"
_SC_PRIORITY_SCHEDULING,
# 95 "/usr/include/bits/confname.h"
_SC_TIMERS,
# 97 "/usr/include/bits/confname.h"
_SC_ASYNCHRONOUS_IO,
# 99 "/usr/include/bits/confname.h"
_SC_PRIORITIZED_IO,
# 101 "/usr/include/bits/confname.h"
_SC_SYNCHRONIZED_IO,
# 103 "/usr/include/bits/confname.h"
_SC_FSYNC,
# 105 "/usr/include/bits/confname.h"
_SC_MAPPED_FILES,
# 107 "/usr/include/bits/confname.h"
_SC_MEMLOCK,
# 109 "/usr/include/bits/confname.h"
_SC_MEMLOCK_RANGE,
# 111 "/usr/include/bits/confname.h"
_SC_MEMORY_PROTECTION,
# 113 "/usr/include/bits/confname.h"
_SC_MESSAGE_PASSING,
# 115 "/usr/include/bits/confname.h"
_SC_SEMAPHORES,
# 117 "/usr/include/bits/confname.h"
_SC_SHARED_MEMORY_OBJECTS,
# 119 "/usr/include/bits/confname.h"
_SC_AIO_LISTIO_MAX,
# 121 "/usr/include/bits/confname.h"
_SC_AIO_MAX,
# 123 "/usr/include/bits/confname.h"
_SC_AIO_PRIO_DELTA_MAX,
# 125 "/usr/include/bits/confname.h"
_SC_DELAYTIMER_MAX,
# 127 "/usr/include/bits/confname.h"
_SC_MQ_OPEN_MAX,
# 129 "/usr/include/bits/confname.h"
_SC_MQ_PRIO_MAX,
# 131 "/usr/include/bits/confname.h"
_SC_VERSION,
# 133 "/usr/include/bits/confname.h"
_SC_PAGESIZE,
# 136 "/usr/include/bits/confname.h"
_SC_RTSIG_MAX,
# 138 "/usr/include/bits/confname.h"
_SC_SEM_NSEMS_MAX,
# 140 "/usr/include/bits/confname.h"
_SC_SEM_VALUE_MAX,
# 142 "/usr/include/bits/confname.h"
_SC_SIGQUEUE_MAX,
# 144 "/usr/include/bits/confname.h"
_SC_TIMER_MAX,
# 149 "/usr/include/bits/confname.h"
_SC_BC_BASE_MAX,
# 151 "/usr/include/bits/confname.h"
_SC_BC_DIM_MAX,
# 153 "/usr/include/bits/confname.h"
_SC_BC_SCALE_MAX,
# 155 "/usr/include/bits/confname.h"
_SC_BC_STRING_MAX,
# 157 "/usr/include/bits/confname.h"
_SC_COLL_WEIGHTS_MAX,
# 159 "/usr/include/bits/confname.h"
_SC_EQUIV_CLASS_MAX,
# 161 "/usr/include/bits/confname.h"
_SC_EXPR_NEST_MAX,
# 163 "/usr/include/bits/confname.h"
_SC_LINE_MAX,
# 165 "/usr/include/bits/confname.h"
_SC_RE_DUP_MAX,
# 167 "/usr/include/bits/confname.h"
_SC_CHARCLASS_NAME_MAX,
# 170 "/usr/include/bits/confname.h"
_SC_2_VERSION,
# 172 "/usr/include/bits/confname.h"
_SC_2_C_BIND,
# 174 "/usr/include/bits/confname.h"
_SC_2_C_DEV,
# 176 "/usr/include/bits/confname.h"
_SC_2_FORT_DEV,
# 178 "/usr/include/bits/confname.h"
_SC_2_FORT_RUN,
# 180 "/usr/include/bits/confname.h"
_SC_2_SW_DEV,
# 182 "/usr/include/bits/confname.h"
_SC_2_LOCALEDEF,
# 185 "/usr/include/bits/confname.h"
_SC_PII,
# 187 "/usr/include/bits/confname.h"
_SC_PII_XTI,
# 189 "/usr/include/bits/confname.h"
_SC_PII_SOCKET,
# 191 "/usr/include/bits/confname.h"
_SC_PII_INTERNET,
# 193 "/usr/include/bits/confname.h"
_SC_PII_OSI,
# 195 "/usr/include/bits/confname.h"
_SC_POLL,
# 197 "/usr/include/bits/confname.h"
_SC_SELECT,
# 199 "/usr/include/bits/confname.h"
_SC_UIO_MAXIOV,
# 201 "/usr/include/bits/confname.h"
_SC_IOV_MAX = _SC_UIO_MAXIOV,
# 203 "/usr/include/bits/confname.h"
_SC_PII_INTERNET_STREAM,
# 205 "/usr/include/bits/confname.h"
_SC_PII_INTERNET_DGRAM,
# 207 "/usr/include/bits/confname.h"
_SC_PII_OSI_COTS,
# 209 "/usr/include/bits/confname.h"
_SC_PII_OSI_CLTS,
# 211 "/usr/include/bits/confname.h"
_SC_PII_OSI_M,
# 213 "/usr/include/bits/confname.h"
_SC_T_IOV_MAX,
# 217 "/usr/include/bits/confname.h"
_SC_THREADS,
# 219 "/usr/include/bits/confname.h"
_SC_THREAD_SAFE_FUNCTIONS,
# 221 "/usr/include/bits/confname.h"
_SC_GETGR_R_SIZE_MAX,
# 223 "/usr/include/bits/confname.h"
_SC_GETPW_R_SIZE_MAX,
# 225 "/usr/include/bits/confname.h"
_SC_LOGIN_NAME_MAX,
# 227 "/usr/include/bits/confname.h"
_SC_TTY_NAME_MAX,
# 229 "/usr/include/bits/confname.h"
_SC_THREAD_DESTRUCTOR_ITERATIONS,
# 231 "/usr/include/bits/confname.h"
_SC_THREAD_KEYS_MAX,
# 233 "/usr/include/bits/confname.h"
_SC_THREAD_STACK_MIN,
# 235 "/usr/include/bits/confname.h"
_SC_THREAD_THREADS_MAX,
# 237 "/usr/include/bits/confname.h"
_SC_THREAD_ATTR_STACKADDR,
# 239 "/usr/include/bits/confname.h"
_SC_THREAD_ATTR_STACKSIZE,
# 241 "/usr/include/bits/confname.h"
_SC_THREAD_PRIORITY_SCHEDULING,
# 243 "/usr/include/bits/confname.h"
_SC_THREAD_PRIO_INHERIT,
# 245 "/usr/include/bits/confname.h"
_SC_THREAD_PRIO_PROTECT,
# 247 "/usr/include/bits/confname.h"
_SC_THREAD_PROCESS_SHARED,
# 250 "/usr/include/bits/confname.h"
_SC_NPROCESSORS_CONF,
# 252 "/usr/include/bits/confname.h"
_SC_NPROCESSORS_ONLN,
# 254 "/usr/include/bits/confname.h"
_SC_PHYS_PAGES,
# 256 "/usr/include/bits/confname.h"
_SC_AVPHYS_PAGES,
# 258 "/usr/include/bits/confname.h"
_SC_ATEXIT_MAX,
# 260 "/usr/include/bits/confname.h"
_SC_PASS_MAX,
# 263 "/usr/include/bits/confname.h"
_SC_XOPEN_VERSION,
# 265 "/usr/include/bits/confname.h"
_SC_XOPEN_XCU_VERSION,
# 267 "/usr/include/bits/confname.h"
_SC_XOPEN_UNIX,
# 269 "/usr/include/bits/confname.h"
_SC_XOPEN_CRYPT,
# 271 "/usr/include/bits/confname.h"
_SC_XOPEN_ENH_I18N,
# 273 "/usr/include/bits/confname.h"
_SC_XOPEN_SHM,
# 276 "/usr/include/bits/confname.h"
_SC_2_CHAR_TERM,
# 278 "/usr/include/bits/confname.h"
_SC_2_C_VERSION,
# 280 "/usr/include/bits/confname.h"
_SC_2_UPE,
# 283 "/usr/include/bits/confname.h"
_SC_XOPEN_XPG2,
# 285 "/usr/include/bits/confname.h"
_SC_XOPEN_XPG3,
# 287 "/usr/include/bits/confname.h"
_SC_XOPEN_XPG4,
# 290 "/usr/include/bits/confname.h"
_SC_CHAR_BIT,
# 292 "/usr/include/bits/confname.h"
_SC_CHAR_MAX,
# 294 "/usr/include/bits/confname.h"
_SC_CHAR_MIN,
# 296 "/usr/include/bits/confname.h"
_SC_INT_MAX,
# 298 "/usr/include/bits/confname.h"
_SC_INT_MIN,
# 300 "/usr/include/bits/confname.h"
_SC_LONG_BIT,
# 302 "/usr/include/bits/confname.h"
_SC_WORD_BIT,
# 304 "/usr/include/bits/confname.h"
_SC_MB_LEN_MAX,
# 306 "/usr/include/bits/confname.h"
_SC_NZERO,
# 308 "/usr/include/bits/confname.h"
_SC_SSIZE_MAX,
# 310 "/usr/include/bits/confname.h"
_SC_SCHAR_MAX,
# 312 "/usr/include/bits/confname.h"
_SC_SCHAR_MIN,
# 314 "/usr/include/bits/confname.h"
_SC_SHRT_MAX,
# 316 "/usr/include/bits/confname.h"
_SC_SHRT_MIN,
# 318 "/usr/include/bits/confname.h"
_SC_UCHAR_MAX,
# 320 "/usr/include/bits/confname.h"
_SC_UINT_MAX,
# 322 "/usr/include/bits/confname.h"
_SC_ULONG_MAX,
# 324 "/usr/include/bits/confname.h"
_SC_USHRT_MAX,
# 327 "/usr/include/bits/confname.h"
_SC_NL_ARGMAX,
# 329 "/usr/include/bits/confname.h"
_SC_NL_LANGMAX,
# 331 "/usr/include/bits/confname.h"
_SC_NL_MSGMAX,
# 333 "/usr/include/bits/confname.h"
_SC_NL_NMAX,
# 335 "/usr/include/bits/confname.h"
_SC_NL_SETMAX,
# 337 "/usr/include/bits/confname.h"
_SC_NL_TEXTMAX,
# 340 "/usr/include/bits/confname.h"
_SC_XBS5_ILP32_OFF32,
# 342 "/usr/include/bits/confname.h"
_SC_XBS5_ILP32_OFFBIG,
# 344 "/usr/include/bits/confname.h"
_SC_XBS5_LP64_OFF64,
# 346 "/usr/include/bits/confname.h"
_SC_XBS5_LPBIG_OFFBIG,
# 349 "/usr/include/bits/confname.h"
_SC_XOPEN_LEGACY,
# 351 "/usr/include/bits/confname.h"
_SC_XOPEN_REALTIME,
# 353 "/usr/include/bits/confname.h"
_SC_XOPEN_REALTIME_THREADS,
# 356 "/usr/include/bits/confname.h"
_SC_ADVISORY_INFO,
# 358 "/usr/include/bits/confname.h"
_SC_BARRIERS,
# 360 "/usr/include/bits/confname.h"
_SC_BASE,
# 362 "/usr/include/bits/confname.h"
_SC_C_LANG_SUPPORT,
# 364 "/usr/include/bits/confname.h"
_SC_C_LANG_SUPPORT_R,
# 366 "/usr/include/bits/confname.h"
_SC_CLOCK_SELECTION,
# 368 "/usr/include/bits/confname.h"
_SC_CPUTIME,
# 370 "/usr/include/bits/confname.h"
_SC_THREAD_CPUTIME,
# 372 "/usr/include/bits/confname.h"
_SC_DEVICE_IO,
# 374 "/usr/include/bits/confname.h"
_SC_DEVICE_SPECIFIC,
# 376 "/usr/include/bits/confname.h"
_SC_DEVICE_SPECIFIC_R,
# 378 "/usr/include/bits/confname.h"
_SC_FD_MGMT,
# 380 "/usr/include/bits/confname.h"
_SC_FIFO,
# 382 "/usr/include/bits/confname.h"
_SC_PIPE,
# 384 "/usr/include/bits/confname.h"
_SC_FILE_ATTRIBUTES,
# 386 "/usr/include/bits/confname.h"
_SC_FILE_LOCKING,
# 388 "/usr/include/bits/confname.h"
_SC_FILE_SYSTEM,
# 390 "/usr/include/bits/confname.h"
_SC_MONOTONIC_CLOCK,
# 392 "/usr/include/bits/confname.h"
_SC_MULTI_PROCESS,
# 394 "/usr/include/bits/confname.h"
_SC_SINGLE_PROCESS,
# 396 "/usr/include/bits/confname.h"
_SC_NETWORKING,
# 398 "/usr/include/bits/confname.h"
_SC_READER_WRITER_LOCKS,
# 400 "/usr/include/bits/confname.h"
_SC_SPIN_LOCKS,
# 402 "/usr/include/bits/confname.h"
_SC_REGEXP,
# 404 "/usr/include/bits/confname.h"
_SC_REGEX_VERSION,
# 406 "/usr/include/bits/confname.h"
_SC_SHELL,
# 408 "/usr/include/bits/confname.h"
_SC_SIGNALS,
# 410 "/usr/include/bits/confname.h"
_SC_SPAWN,
# 412 "/usr/include/bits/confname.h"
_SC_SPORADIC_SERVER,
# 414 "/usr/include/bits/confname.h"
_SC_THREAD_SPORADIC_SERVER,
# 416 "/usr/include/bits/confname.h"
_SC_SYSTEM_DATABASE,
# 418 "/usr/include/bits/confname.h"
_SC_SYSTEM_DATABASE_R,
# 420 "/usr/include/bits/confname.h"
_SC_TIMEOUTS,
# 422 "/usr/include/bits/confname.h"
_SC_TYPED_MEMORY_OBJECTS,
# 424 "/usr/include/bits/confname.h"
_SC_USER_GROUPS,
# 426 "/usr/include/bits/confname.h"
_SC_USER_GROUPS_R,
# 428 "/usr/include/bits/confname.h"
_SC_2_PBS,
# 430 "/usr/include/bits/confname.h"
_SC_2_PBS_ACCOUNTING,
# 432 "/usr/include/bits/confname.h"
_SC_2_PBS_LOCATE,
# 434 "/usr/include/bits/confname.h"
_SC_2_PBS_MESSAGE,
# 436 "/usr/include/bits/confname.h"
_SC_2_PBS_TRACK,
# 438 "/usr/include/bits/confname.h"
_SC_SYMLOOP_MAX,
# 440 "/usr/include/bits/confname.h"
_SC_STREAMS,
# 442 "/usr/include/bits/confname.h"
_SC_2_PBS_CHECKPOINT,
# 445 "/usr/include/bits/confname.h"
_SC_V6_ILP32_OFF32,
# 447 "/usr/include/bits/confname.h"
_SC_V6_ILP32_OFFBIG,
# 449 "/usr/include/bits/confname.h"
_SC_V6_LP64_OFF64,
# 451 "/usr/include/bits/confname.h"
_SC_V6_LPBIG_OFFBIG,
# 454 "/usr/include/bits/confname.h"
_SC_HOST_NAME_MAX,
# 456 "/usr/include/bits/confname.h"
_SC_TRACE,
# 458 "/usr/include/bits/confname.h"
_SC_TRACE_EVENT_FILTER,
# 460 "/usr/include/bits/confname.h"
_SC_TRACE_INHERIT,
# 462 "/usr/include/bits/confname.h"
_SC_TRACE_LOG,
# 465 "/usr/include/bits/confname.h"
_SC_LEVEL1_ICACHE_SIZE,
# 467 "/usr/include/bits/confname.h"
_SC_LEVEL1_ICACHE_ASSOC,
# 469 "/usr/include/bits/confname.h"
_SC_LEVEL1_ICACHE_LINESIZE,
# 471 "/usr/include/bits/confname.h"
_SC_LEVEL1_DCACHE_SIZE,
# 473 "/usr/include/bits/confname.h"
_SC_LEVEL1_DCACHE_ASSOC,
# 475 "/usr/include/bits/confname.h"
_SC_LEVEL1_DCACHE_LINESIZE,
# 477 "/usr/include/bits/confname.h"
_SC_LEVEL2_CACHE_SIZE,
# 479 "/usr/include/bits/confname.h"
_SC_LEVEL2_CACHE_ASSOC,
# 481 "/usr/include/bits/confname.h"
_SC_LEVEL2_CACHE_LINESIZE,
# 483 "/usr/include/bits/confname.h"
_SC_LEVEL3_CACHE_SIZE,
# 485 "/usr/include/bits/confname.h"
_SC_LEVEL3_CACHE_ASSOC,
# 487 "/usr/include/bits/confname.h"
_SC_LEVEL3_CACHE_LINESIZE,
# 489 "/usr/include/bits/confname.h"
_SC_LEVEL4_CACHE_SIZE,
# 491 "/usr/include/bits/confname.h"
_SC_LEVEL4_CACHE_ASSOC,
# 493 "/usr/include/bits/confname.h"
_SC_LEVEL4_CACHE_LINESIZE,
# 497 "/usr/include/bits/confname.h"
_SC_IPV6 = _SC_LEVEL1_ICACHE_SIZE + 50,
# 499 "/usr/include/bits/confname.h"
_SC_RAW_SOCKETS,
# 502 "/usr/include/bits/confname.h"
_SC_V7_ILP32_OFF32,
# 504 "/usr/include/bits/confname.h"
_SC_V7_ILP32_OFFBIG,
# 506 "/usr/include/bits/confname.h"
_SC_V7_LP64_OFF64,
# 508 "/usr/include/bits/confname.h"
_SC_V7_LPBIG_OFFBIG,
# 511 "/usr/include/bits/confname.h"
_SC_SS_REPL_MAX,
# 514 "/usr/include/bits/confname.h"
_SC_TRACE_EVENT_NAME_MAX,
# 516 "/usr/include/bits/confname.h"
_SC_TRACE_NAME_MAX,
# 518 "/usr/include/bits/confname.h"
_SC_TRACE_SYS_MAX,
# 520 "/usr/include/bits/confname.h"
_SC_TRACE_USER_EVENT_MAX,
# 523 "/usr/include/bits/confname.h"
_SC_XOPEN_STREAMS,
# 526 "/usr/include/bits/confname.h"
_SC_THREAD_ROBUST_PRIO_INHERIT,
# 528 "/usr/include/bits/confname.h"
_SC_THREAD_ROBUST_PRIO_PROTECT
# 530 "/usr/include/bits/confname.h"
};
# 533 "/usr/include/bits/confname.h"
enum
{
_CS_PATH,
# 538 "/usr/include/bits/confname.h"
_CS_V6_WIDTH_RESTRICTED_ENVS,
# 542 "/usr/include/bits/confname.h"
_CS_GNU_LIBC_VERSION,
# 544 "/usr/include/bits/confname.h"
_CS_GNU_LIBPTHREAD_VERSION,
# 547 "/usr/include/bits/confname.h"
_CS_V5_WIDTH_RESTRICTED_ENVS,
# 551 "/usr/include/bits/confname.h"
_CS_V7_WIDTH_RESTRICTED_ENVS,
# 555 "/usr/include/bits/confname.h"
_CS_LFS_CFLAGS = 1000,
# 557 "/usr/include/bits/confname.h"
_CS_LFS_LDFLAGS,
# 559 "/usr/include/bits/confname.h"
_CS_LFS_LIBS,
# 561 "/usr/include/bits/confname.h"
_CS_LFS_LINTFLAGS,
# 563 "/usr/include/bits/confname.h"
_CS_LFS64_CFLAGS,
# 565 "/usr/include/bits/confname.h"
_CS_LFS64_LDFLAGS,
# 567 "/usr/include/bits/confname.h"
_CS_LFS64_LIBS,
# 569 "/usr/include/bits/confname.h"
_CS_LFS64_LINTFLAGS,
# 572 "/usr/include/bits/confname.h"
_CS_XBS5_ILP32_OFF32_CFLAGS = 1100,
# 574 "/usr/include/bits/confname.h"
_CS_XBS5_ILP32_OFF32_LDFLAGS,
# 576 "/usr/include/bits/confname.h"
_CS_XBS5_ILP32_OFF32_LIBS,
# 578 "/usr/include/bits/confname.h"
_CS_XBS5_ILP32_OFF32_LINTFLAGS,
# 580 "/usr/include/bits/confname.h"
_CS_XBS5_ILP32_OFFBIG_CFLAGS,
# 582 "/usr/include/bits/confname.h"
_CS_XBS5_ILP32_OFFBIG_LDFLAGS,
# 584 "/usr/include/bits/confname.h"
_CS_XBS5_ILP32_OFFBIG_LIBS,
# 586 "/usr/include/bits/confname.h"
_CS_XBS5_ILP32_OFFBIG_LINTFLAGS,
# 588 "/usr/include/bits/confname.h"
_CS_XBS5_LP64_OFF64_CFLAGS,
# 590 "/usr/include/bits/confname.h"
_CS_XBS5_LP64_OFF64_LDFLAGS,
# 592 "/usr/include/bits/confname.h"
_CS_XBS5_LP64_OFF64_LIBS,
# 594 "/usr/include/bits/confname.h"
_CS_XBS5_LP64_OFF64_LINTFLAGS,
# 596 "/usr/include/bits/confname.h"
_CS_XBS5_LPBIG_OFFBIG_CFLAGS,
# 598 "/usr/include/bits/confname.h"
_CS_XBS5_LPBIG_OFFBIG_LDFLAGS,
# 600 "/usr/include/bits/confname.h"
_CS_XBS5_LPBIG_OFFBIG_LIBS,
# 602 "/usr/include/bits/confname.h"
_CS_XBS5_LPBIG_OFFBIG_LINTFLAGS,
# 605 "/usr/include/bits/confname.h"
_CS_POSIX_V6_ILP32_OFF32_CFLAGS,
# 607 "/usr/include/bits/confname.h"
_CS_POSIX_V6_ILP32_OFF32_LDFLAGS,
# 609 "/usr/include/bits/confname.h"
_CS_POSIX_V6_ILP32_OFF32_LIBS,
# 611 "/usr/include/bits/confname.h"
_CS_POSIX_V6_ILP32_OFF32_LINTFLAGS,
# 613 "/usr/include/bits/confname.h"
_CS_POSIX_V6_ILP32_OFFBIG_CFLAGS,
# 615 "/usr/include/bits/confname.h"
_CS_POSIX_V6_ILP32_OFFBIG_LDFLAGS,
# 617 "/usr/include/bits/confname.h"
_CS_POSIX_V6_ILP32_OFFBIG_LIBS,
# 619 "/usr/include/bits/confname.h"
_CS_POSIX_V6_ILP32_OFFBIG_LINTFLAGS,
# 621 "/usr/include/bits/confname.h"
_CS_POSIX_V6_LP64_OFF64_CFLAGS,
# 623 "/usr/include/bits/confname.h"
_CS_POSIX_V6_LP64_OFF64_LDFLAGS,
# 625 "/usr/include/bits/confname.h"
_CS_POSIX_V6_LP64_OFF64_LIBS,
# 627 "/usr/include/bits/confname.h"
_CS_POSIX_V6_LP64_OFF64_LINTFLAGS,
# 629 "/usr/include/bits/confname.h"
_CS_POSIX_V6_LPBIG_OFFBIG_CFLAGS,
# 631 "/usr/include/bits/confname.h"
_CS_POSIX_V6_LPBIG_OFFBIG_LDFLAGS,
# 633 "/usr/include/bits/confname.h"
_CS_POSIX_V6_LPBIG_OFFBIG_LIBS,
# 635 "/usr/include/bits/confname.h"
_CS_POSIX_V6_LPBIG_OFFBIG_LINTFLAGS,
# 638 "/usr/include/bits/confname.h"
_CS_POSIX_V7_ILP32_OFF32_CFLAGS,
# 640 "/usr/include/bits/confname.h"
_CS_POSIX_V7_ILP32_OFF32_LDFLAGS,
# 642 "/usr/include/bits/confname.h"
_CS_POSIX_V7_ILP32_OFF32_LIBS,
# 644 "/usr/include/bits/confname.h"
_CS_POSIX_V7_ILP32_OFF32_LINTFLAGS,
# 646 "/usr/include/bits/confname.h"
_CS_POSIX_V7_ILP32_OFFBIG_CFLAGS,
# 648 "/usr/include/bits/confname.h"
_CS_POSIX_V7_ILP32_OFFBIG_LDFLAGS,
# 650 "/usr/include/bits/confname.h"
_CS_POSIX_V7_ILP32_OFFBIG_LIBS,
# 652 "/usr/include/bits/confname.h"
_CS_POSIX_V7_ILP32_OFFBIG_LINTFLAGS,
# 654 "/usr/include/bits/confname.h"
_CS_POSIX_V7_LP64_OFF64_CFLAGS,
# 656 "/usr/include/bits/confname.h"
_CS_POSIX_V7_LP64_OFF64_LDFLAGS,
# 658 "/usr/include/bits/confname.h"
_CS_POSIX_V7_LP64_OFF64_LIBS,
# 660 "/usr/include/bits/confname.h"
_CS_POSIX_V7_LP64_OFF64_LINTFLAGS,
# 662 "/usr/include/bits/confname.h"
_CS_POSIX_V7_LPBIG_OFFBIG_CFLAGS,
# 664 "/usr/include/bits/confname.h"
_CS_POSIX_V7_LPBIG_OFFBIG_LDFLAGS,
# 666 "/usr/include/bits/confname.h"
_CS_POSIX_V7_LPBIG_OFFBIG_LIBS,
# 668 "/usr/include/bits/confname.h"
_CS_POSIX_V7_LPBIG_OFFBIG_LINTFLAGS,
# 671 "/usr/include/bits/confname.h"
_CS_V6_ENV,
# 673 "/usr/include/bits/confname.h"
_CS_V7_ENV
# 675 "/usr/include/bits/confname.h"
};
# 612 "/usr/include/unistd.h"
extern long int pathconf (const char *__path, int __name)
# 55 "/usr/include/sys/cdefs.h"
__attribute__ ((__nothrow__ , __leaf__)) __attribute__ ((__nonnull__ (1)));
# 616 "/usr/include/unistd.h"
extern long int fpathconf (int __fd, int __name) __attribute__ ((__nothrow__ , __leaf__));
# 619 "/usr/include/unistd.h"
extern long int sysconf (int __name) __attribute__ ((__nothrow__ , __leaf__));
# 623 "/usr/include/unistd.h"
extern size_t confstr (int __name, char *__buf, size_t __len) __attribute__ ((__nothrow__ , __leaf__));
# 628 "/usr/include/unistd.h"
extern __pid_t getpid (void) __attribute__ ((__nothrow__ , __leaf__));
# 631 "/usr/include/unistd.h"
extern __pid_t getppid (void) __attribute__ ((__nothrow__ , __leaf__));
# 634 "/usr/include/unistd.h"
extern __pid_t getpgrp (void) __attribute__ ((__nothrow__ , __leaf__));
# 637 "/usr/include/unistd.h"
extern __pid_t __getpgid (__pid_t __pid) __attribute__ ((__nothrow__ , __leaf__));
# 639 "/usr/include/unistd.h"
extern __pid_t getpgid (__pid_t __pid) __attribute__ ((__nothrow__ , __leaf__));
# 646 "/usr/include/unistd.h"
extern int setpgid (__pid_t __pid, __pid_t __pgid) __attribute__ ((__nothrow__ , __leaf__));
# 660 "/usr/include/unistd.h"
extern int setpgrp (void) __attribute__ ((__nothrow__ , __leaf__));
# 667 "/usr/include/unistd.h"
extern __pid_t setsid (void) __attribute__ ((__nothrow__ , __leaf__));
# 671 "/usr/include/unistd.h"
extern __pid_t getsid (__pid_t __pid) __attribute__ ((__nothrow__ , __leaf__));
# 675 "/usr/include/unistd.h"
extern __uid_t getuid (void) __attribute__ ((__nothrow__ , __leaf__));
# 678 "/usr/include/unistd.h"
extern __uid_t geteuid (void) __attribute__ ((__nothrow__ , __leaf__));
# 681 "/usr/include/unistd.h"
extern __gid_t getgid (void) __attribute__ ((__nothrow__ , __leaf__));
# 684 "/usr/include/unistd.h"
extern __gid_t getegid (void) __attribute__ ((__nothrow__ , __leaf__));
# 689 "/usr/include/unistd.h"
extern int getgroups (int __size, __gid_t __list[]) __attribute__ ((__nothrow__ , __leaf__)) ;
# 700 "/usr/include/unistd.h"
extern int setuid (__uid_t __uid) __attribute__ ((__nothrow__ , __leaf__)) ;
# 705 "/usr/include/unistd.h"
extern int setreuid (__uid_t __ruid, __uid_t __euid) __attribute__ ((__nothrow__ , __leaf__)) ;
# 710 "/usr/include/unistd.h"
extern int seteuid (__uid_t __uid) __attribute__ ((__nothrow__ , __leaf__)) ;
# 717 "/usr/include/unistd.h"
extern int setgid (__gid_t __gid) __attribute__ ((__nothrow__ , __leaf__)) ;
# 722 "/usr/include/unistd.h"
extern int setregid (__gid_t __rgid, __gid_t __egid) __attribute__ ((__nothrow__ , __leaf__)) ;
# 727 "/usr/include/unistd.h"
extern int setegid (__gid_t __gid) __attribute__ ((__nothrow__ , __leaf__)) ;
# 756 "/usr/include/unistd.h"
extern __pid_t fork (void) __attribute__ ((__nothrow__));
# 764 "/usr/include/unistd.h"
extern __pid_t vfork (void) __attribute__ ((__nothrow__ , __leaf__));
# 770 "/usr/include/unistd.h"
extern char *ttyname (int __fd) __attribute__ ((__nothrow__ , __leaf__));
# 774 "/usr/include/unistd.h"
extern int ttyname_r (int __fd, char *__buf, size_t __buflen)
# 55 "/usr/include/sys/cdefs.h"
__attribute__ ((__nothrow__ , __leaf__)) __attribute__ ((__nonnull__ (2))) ;
# 779 "/usr/include/unistd.h"
extern int isatty (int __fd) __attribute__ ((__nothrow__ , __leaf__));
# 784 "/usr/include/unistd.h"
extern int ttyslot (void) __attribute__ ((__nothrow__ , __leaf__));
# 789 "/usr/include/unistd.h"
extern int link (const char *__from, const char *__to)
# 55 "/usr/include/sys/cdefs.h"
__attribute__ ((__nothrow__ , __leaf__)) __attribute__ ((__nonnull__ (1, 2))) ;
# 795 "/usr/include/unistd.h"
extern int linkat (int __fromfd, const char *__from, int __tofd,
const char *__to, int __flags)
# 55 "/usr/include/sys/cdefs.h"
__attribute__ ((__nothrow__ , __leaf__)) __attribute__ ((__nonnull__ (2, 4))) ;
# 802 "/usr/include/unistd.h"
extern int symlink (const char *__from, const char *__to)
# 55 "/usr/include/sys/cdefs.h"
__attribute__ ((__nothrow__ , __leaf__)) __attribute__ ((__nonnull__ (1, 2))) ;
# 808 "/usr/include/unistd.h"
extern ssize_t readlink (const char *__restrict __path,
char *__restrict __buf, size_t __len)
# 55 "/usr/include/sys/cdefs.h"
__attribute__ ((__nothrow__ , __leaf__)) __attribute__ ((__nonnull__ (1, 2))) ;
# 815 "/usr/include/unistd.h"
extern int symlinkat (const char *__from, int __tofd,
const char *__to) __attribute__ ((__nothrow__ , __leaf__)) __attribute__ ((__nonnull__ (1, 3))) ;
# 819 "/usr/include/unistd.h"
extern ssize_t readlinkat (int __fd, const char *__restrict __path,
char *__restrict __buf, size_t __len)
# 55 "/usr/include/sys/cdefs.h"
__attribute__ ((__nothrow__ , __leaf__)) __attribute__ ((__nonnull__ (2, 3))) ;
# 825 "/usr/include/unistd.h"
extern int unlink (const char *__name) __attribute__ ((__nothrow__ , __leaf__)) __attribute__ ((__nonnull__ (1)));
# 829 "/usr/include/unistd.h"
extern int unlinkat (int __fd, const char *__name, int __flag)
# 55 "/usr/include/sys/cdefs.h"
__attribute__ ((__nothrow__ , __leaf__)) __attribute__ ((__nonnull__ (2)));
# 834 "/usr/include/unistd.h"
extern int rmdir (const char *__path) __attribute__ ((__nothrow__ , __leaf__)) __attribute__ ((__nonnull__ (1)));
# 838 "/usr/include/unistd.h"
extern __pid_t tcgetpgrp (int __fd) __attribute__ ((__nothrow__ , __leaf__));
# 841 "/usr/include/unistd.h"
extern int tcsetpgrp (int __fd, __pid_t __pgrp_id) __attribute__ ((__nothrow__ , __leaf__));
# 848 "/usr/include/unistd.h"
extern char *getlogin (void);
# 856 "/usr/include/unistd.h"
extern int getlogin_r (char *__name, size_t __name_len) __attribute__ ((__nonnull__ (1)));
# 861 "/usr/include/unistd.h"
extern int setlogin (const char *__name) __attribute__ ((__nothrow__ , __leaf__)) __attribute__ ((__nonnull__ (1)));
# 36 "/usr/include/bits/getopt_core.h"
extern char *optarg;
# 50 "/usr/include/bits/getopt_core.h"
extern int optind;
# 55 "/usr/include/bits/getopt_core.h"
extern int opterr;
# 59 "/usr/include/bits/getopt_core.h"
extern int optopt;
# 91 "/usr/include/bits/getopt_core.h"
extern int getopt (int ___argc, char *const *___argv, const char *__shortopts)
# 55 "/usr/include/sys/cdefs.h"
__attribute__ ((__nothrow__ , __leaf__)) __attribute__ ((__nonnull__ (2, 3)));
# 877 "/usr/include/unistd.h"
extern int gethostname (char *__name, size_t __len) __attribute__ ((__nothrow__ , __leaf__)) __attribute__ ((__nonnull__ (1)));
# 884 "/usr/include/unistd.h"
extern int sethostname (const char *__name, size_t __len)
# 55 "/usr/include/sys/cdefs.h"
__attribute__ ((__nothrow__ , __leaf__)) __attribute__ ((__nonnull__ (1))) ;
# 889 "/usr/include/unistd.h"
extern int sethostid (long int __id) __attribute__ ((__nothrow__ , __leaf__)) ;
# 895 "/usr/include/unistd.h"
extern int getdomainname (char *__name, size_t __len)
# 55 "/usr/include/sys/cdefs.h"
__attribute__ ((__nothrow__ , __leaf__)) __attribute__ ((__nonnull__ (1))) ;
# 897 "/usr/include/unistd.h"
extern int setdomainname (const char *__name, size_t __len)
# 55 "/usr/include/sys/cdefs.h"
__attribute__ ((__nothrow__ , __leaf__)) __attribute__ ((__nonnull__ (1))) ;
# 904 "/usr/include/unistd.h"
extern int vhangup (void) __attribute__ ((__nothrow__ , __leaf__));
# 907 "/usr/include/unistd.h"
extern int revoke (const char *__file) __attribute__ ((__nothrow__ , __leaf__)) __attribute__ ((__nonnull__ (1))) ;
# 915 "/usr/include/unistd.h"
extern int profil (unsigned short int *__sample_buffer, size_t __size,
size_t __offset, unsigned int __scale)
# 55 "/usr/include/sys/cdefs.h"
__attribute__ ((__nothrow__ , __leaf__)) __attribute__ ((__nonnull__ (1)));
# 923 "/usr/include/unistd.h"
extern int acct (const char *__name) __attribute__ ((__nothrow__ , __leaf__));
# 927 "/usr/include/unistd.h"
extern char *getusershell (void) __attribute__ ((__nothrow__ , __leaf__));
extern void endusershell (void) __attribute__ ((__nothrow__ , __leaf__));
extern void setusershell (void) __attribute__ ((__nothrow__ , __leaf__));
# 935 "/usr/include/unistd.h"
extern int daemon (int __nochdir, int __noclose) __attribute__ ((__nothrow__ , __leaf__)) ;
# 942 "/usr/include/unistd.h"
extern int chroot (const char *__path) __attribute__ ((__nothrow__ , __leaf__)) __attribute__ ((__nonnull__ (1))) ;
# 946 "/usr/include/unistd.h"
extern char *getpass (const char *__prompt) __attribute__ ((__nonnull__ (1)));
# 954 "/usr/include/unistd.h"
extern int fsync (int __fd);
# 967 "/usr/include/unistd.h"
extern long int gethostid (void);
# 970 "/usr/include/unistd.h"
extern void sync (void) __attribute__ ((__nothrow__ , __leaf__));
# 976 "/usr/include/unistd.h"
extern int getpagesize (void) __attribute__ ((__nothrow__ , __leaf__)) __attribute__ ((__const__));
# 981 "/usr/include/unistd.h"
extern int getdtablesize (void) __attribute__ ((__nothrow__ , __leaf__));
# 995 "/usr/include/unistd.h"
extern int truncate (const char *__file, __off64_t __length) __asm__ ("") __attribute__ ((__nothrow__ , __leaf__)) __attribute__ ((__nonnull__ (1))) ;
# 1017 "/usr/include/unistd.h"
extern int ftruncate (int __fd, __off64_t __length) __asm__ ("") __attribute__ ((__nothrow__ , __leaf__)) ;
# 1035 "/usr/include/unistd.h"
extern int brk (void *__addr) __attribute__ ((__nothrow__ , __leaf__)) ;
# 1041 "/usr/include/unistd.h"
extern void *sbrk (intptr_t __delta) __attribute__ ((__nothrow__ , __leaf__));
# 1056 "/usr/include/unistd.h"
extern long int syscall (long int __sysno, ...) __attribute__ ((__nothrow__ , __leaf__));
# 1082 "/usr/include/unistd.h"
extern int lockf (int __fd, int __cmd, __off64_t __len) __asm__ ("") ;
# 1115 "/usr/include/unistd.h"
extern int fdatasync (int __fildes);
# 1124 "/usr/include/unistd.h"
extern char *crypt (const char *__key, const char *__salt)
# 55 "/usr/include/sys/cdefs.h"
__attribute__ ((__nothrow__ , __leaf__)) __attribute__ ((__nonnull__ (1, 2)));
# 1161 "/usr/include/unistd.h"
int getentropy (void *__buffer, size_t __length) ;
# 34 "lib/unix.h"
extern const short __spm[13];
# 44 "lib/unix.h"
int unix_fnmatch(const char* pattern, const char* string, int flags);
int fnmatch_b(const char*, size_t, const char*, size_t slen, int flags);
int isleap(int year);
int pipe2(int fd[2], int flags);
# 53 "lib/unix.h"
int unix_getopt(int, char* const[], const char*);
int unix_getopt_long(int, char* const[], const char*, const struct unix_longopt*, int*);
# 56 "lib/unix.h"
extern char* unix_optarg;
extern int unix_optind;
extern int unix_opterr;
extern int unix_optopt;
# 61 "lib/unix.h"
extern buffer* unix_optbuf;
# 64 "lib/unix.h"
const char* unix_errno(int);
# 15 "lib/alloc.h"
void* alloc(size_t n);
void* alloc_zero(size_t n);
void alloc_free(void* x);
void alloc_clear(void* ptr);
# 20 "lib/alloc.h"
int alloc_re(void* x, size_t m, size_t n);
# 17 "lib/slist.h"
typedef struct slink {
struct slink* next;
} slink;
# 21 "lib/slist.h"
typedef struct slist {
struct slink* head;
struct slink** tail;
} slist;
# 26 "lib/slist.h"
static inline void
slist_add(slink** list, slink* link) {
link->next = *list;
*list = link;
}
# 32 "lib/slist.h"
slink** dlist_find(slink**, int (*pred)(slink*));
void slist_add_after(slink**, slink* p, slink* after);
void slist_add_before(slink**, slink* p, slink* before);
slink* slist_find_delete(slink**, int (*pred)(slink*));
void slist_init(slink**);
size_t slist_length(slink**);
int slist_pushs(slink**, const char* s);
slink** slist_push(slink**, void*);
slink* slist_remove(slink**);
void slist_removes(slink**);
int slist_shifts(slink**);
slink* slist_shift(slink**);
int slist_unshifts(slink**, const char* s);
void* slist_pushb(slink** list, const void* x, size_t len);
int slist_unshiftb(slink** list, const void* x, size_t len);
# 56 "lib/slist.h"
static inline void*
slist_data(slink* list) {
return &((void**)list)[1];
}
# 61 "lib/slist.h"
static inline void*
slink_data(slink** link) {
return slist_data(*link);
}
# 66 "lib/slist.h"
static inline slink**
slink_next(slink** link) {
return &((*link)->next);
}
static inline slink*
slist_next(slink* list) {
return list->next;
}
# 75 "lib/slist.h"
static inline int
slink_last(slink** link) {
return !(*link);
}
static inline int
slist_islast(slink* list) {
return !list->next;
}
# 84 "lib/slist.h"
static inline size_t
slink_size(slink** link) {
size_t i = 0;
# 88 "lib/slist.h"
while(!slink_last(link)) {
++i;
link = slink_next(link);
};
return i;
}
static inline size_t
slist_size(slink* list) {
size_t i = 0;
# 98 "lib/slist.h"
while(list) {
++i;
list = list->next;
};
return i;
}
# 105 "lib/slist.h"
static inline slink**
slink_tail(slink** link) {
while(*link) {
link = slink_next(link);
};
return link;
}
static inline slink*
slist_end(slink* list) {
while(list->next) {
list = list->next;
};
return list;
}
# 123 "lib/slist.h"
static inline slink**
slink_insert(slink** at, slink* link) {
link->next = *at;
*at = link;
return &link->next;
}
# 132 "lib/slist.h"
inline static slink*
slist_begin(slink* list) {
return list;
}
# 137 "lib/slist.h"
inline static slink**
slink_begin(slink** list) {
return list;
}
inline static slink**
slink_end(slink** list) {
while(*list)
list = &(*list)->next;
return list;
}
# 148 "lib/slist.h"
inline static int
slist_iterator_first(slink** list, slink** p) {
return list == p;
}
inline static int
slist_iterator_last(slink** list, slink** p) {
(void)list;
return *p && (*p)->next == ((void *)0);
}
inline static int
slist_iterator_end(slink** list, slink** p) {
(void)list;
return (*p) == ((void *)0);
}
# 163 "lib/slist.h"
inline static void
slist_iterator_increment(slink** list, slink*** p) {
(void)list;
*p = &(**p)->next;
}
inline static slink*
slist_iterator_dereference(slink** list, slink** p) {
(void)list;
return *p;
}
# 174 "lib/slist.h"
inline static size_t
slist_iterator_distance(slink** list, slink** from, slink** to) {
size_t i = 0;
(void)list;
# 179 "lib/slist.h"
while(*from && from != to) {
from = &(*from)->next;
++i;
};
return i;
}
# 186 "lib/slist.h"
inline static int
slist_iterator_equal(slink** list, slink** it1, slink** it2) {
(void)list;
return it1 == it2;
}
# 69 "/usr/include/assert.h"
extern void __assert_fail (const char *__assertion, const char *__file,
unsigned int __line, const char *__function)
# 55 "/usr/include/sys/cdefs.h"
__attribute__ ((__nothrow__ , __leaf__)) __attribute__ ((__noreturn__));
# 74 "/usr/include/assert.h"
extern void __assert_perror_fail (int __errnum, const char *__file,
unsigned int __line, const char *__function)
# 55 "/usr/include/sys/cdefs.h"
__attribute__ ((__nothrow__ , __leaf__)) __attribute__ ((__noreturn__));
# 81 "/usr/include/assert.h"
extern void __assert (const char *__assertion, const char *__file, int __line)
# 55 "/usr/include/sys/cdefs.h"
__attribute__ ((__nothrow__ , __leaf__)) __attribute__ ((__noreturn__));
# 18 "lib/hmap.h"
enum hmap_error_enum {
HMAP_SUCCESS = 0,
HMAP_FAILED = -1,
HMAP_ALLOCATED_ERROR = -100,
HMAP_CREATE_DB_ERROR = -101,
HMAP_CREATE_TUPUL_ERROR = -102,
HMAP_DB_EMPTY = -401,
HMAP_TUPUL_EMPTY = -403,
HMAP_KEY_EMPTY = -404,
HMAP_TUPLE_NOT_FOUND = -405,
HMAP_TUPLE_DUPLICATE = -406,
HMAP_TUPLE_ALREADY_EXIST = -407,
# 31 "lib/hmap.h"
HMAP_DATA_TYPE_INVALID,
HMAP_ALL
};
# 35 "lib/hmap.h"
enum hmap_tuple_type { HMAP_TUPLE_PRIMARY = 0, HMAP_TUPLE_SECONDARY };
# 37 "lib/hmap.h"
typedef enum hmap_data_type {
HMAP_DATA_TYPE_INT = 0,
HMAP_DATA_TYPE_UINT,
HMAP_DATA_TYPE_INT64,
HMAP_DATA_TYPE_UINT64,
HMAP_DATA_TYPE_DOUBLE,
HMAP_DATA_TYPE_CHARS,
HMAP_DATA_TYPE_CUSTOM,
HMAP_DATA_TYPE_TUPLE,
} HMAP_DATA_TYPE;
# 48 "lib/hmap.h"
typedef struct tuple {
struct tuple* next;
struct tuple* prev;
struct tuple* hash_next;
struct tuple* hash_prev;
# 54 "lib/hmap.h"
char key[1024];
size_t key_len;
int type;
int index;
size_t data_len;
void* data;
# 61 "lib/hmap.h"
int data_type;
union {
int val_int;
unsigned int val_uint;
long int val_longlong;
unsigned long int val_ulonglong;
# 68 "lib/hmap.h"
double val_double;
char* val_chars;
struct tuple* val_tuple;
void* val_custom;
} vals;
} TUPLE;
# 75 "lib/hmap.h"
typedef struct hmap_db {
int tuple_count;
int secondary_tuple_count;
int bucket_size;
TUPLE* tuple;
TUPLE* list_tuple;
} HMAP_DB;
# 83 "lib/hmap.h"
int hmap_add_tuple_with_data(HMAP_DB** hmap_db, const void* key, size_t k_len, void* data);
int hmap_add(HMAP_DB** hmap_db, const void* key, size_t k_len, int dup_flag, int data_type, ...);
int hmap_delete(HMAP_DB** hmap_db, const void* key, size_t k_len);
int hmap_destroy(HMAP_DB** hmap_db);
int hmap_free_data(TUPLE* tuple);
int hmap_init(int bucket_size, HMAP_DB** hmap_db);
int hmap_is_locate(HMAP_DB* hmap_db, void* key, size_t k_len);
int hmap_print_list(HMAP_DB* my_hmap_db);
int hmap_print_table(HMAP_DB* my_hmap_db);
int hmap_print_tree(HMAP_DB* my_hmap_db);
int hmap_search(HMAP_DB* hmap_db, const void* key, size_t k_len, TUPLE** data);
int hmap_set_chars(HMAP_DB** hmap_db, const char* key, const char* data);
TUPLE* hmap_set(HMAP_DB**, const void*, size_t k_len, void* data, size_t d_len);
size_t hmap_size(HMAP_DB* my_hmap_db);
int hmap_truncate(HMAP_DB** hmap_db);
void* hmap_get(HMAP_DB* db, const char* key, size_t keylen);
# 100 "lib/hmap.h"
inline static void*
hmap_data(TUPLE* tuple) {
return tuple->vals.val_chars;
}
inline static size_t
hmap_count(HMAP_DB* hmap_db) {
return hmap_db->tuple_count;
}
# 115 "lib/hmap.h"
inline static TUPLE*
hmap_begin(HMAP_DB* hmap) {
return hmap->list_tuple;
}
# 120 "lib/hmap.h"
inline static void
hmap_iterator_increment(TUPLE** t) {
*t = (*t)->next;
}
inline static int
hmap_iterator_equal(TUPLE** t1, TUPLE** t2) {
return (*t1) == (*t2);
}
inline static TUPLE*
hmap_iterator_dereference(TUPLE** it) {
return *it;
}
# 142 "lib/hmap.h"
int hmap_distance(TUPLE** it1, TUPLE** it2);
# 154 "lib/hmap.h"
int hmap_set_stralloc(HMAP_DB** hmap_db, const stralloc* key, const stralloc* data);
# 158 "lib/hmap.h"
void hmap_dump(HMAP_DB* my_hmap_db, buffer*);
# 16 "lib/textbuf.h"
typedef struct {
uint64 line;
uint64 column;
buffer* source;
char buf[];
} textbuf;
# 23 "lib/textbuf.h"
textbuf* is_textbuf(buffer*);
uint64 textbuf_column(buffer*);
void textbuf_free(buffer*);
void textbuf_init(buffer*, buffer*, size_t);
uint64 textbuf_line(buffer*);
ssize_t textbuf_read(fd_type, char*, size_t, void*);
# 27 "lib/xml.h"
typedef enum xmltokid { XML_EOF = -1, XML_DATA = 0, XML_TAG_NAME = 1, XML_TAG_CLOSE = 2, XML_ATTR_NAME = 3, XML_ATTR_VALUE = 4, XML_COMMENT = 5 } xmltokid;
# 29 "lib/xml.h"
typedef struct {
char* x;
uint32 len;
xmltokid id;
} xmltoken;
# 35 "lib/xml.h"
typedef struct xmlscanner {
buffer* b;
xmltokid tok;
} xmlscanner;
# 40 "lib/xml.h"
typedef enum xmlnodeid {
XML_DOCUMENT = 1,
XML_ELEMENT = 2,
XML_ATTRIBUTE = 3,
XML_TEXT = 4,
} xmlnodeid;
# 47 "lib/xml.h"
typedef struct xmlnode {
struct xmlnode* next;
struct xmlnode* children;
struct xmlnode* parent;
enum xmlnodeid type;
char* name;
HMAP_DB* attributes;
} xmlnode;
# 56 "lib/xml.h"
typedef struct xmlreader {
buffer* b;
xmlnode* doc;
xmlnode* parent;
xmlnode** ptr;
HMAP_DB* attrmap;
int closing : 1;
int self_closing : 1;
const void* data;
struct xmlreader* stack;
} xmlreader;
# 68 "lib/xml.h"
typedef struct xmlnodeset {
xmlnode** nodes;
size_t size;
} xmlnodeset;
# 75 "lib/xml.h"
typedef int(xml_read_callback_fn)(xmlreader* r, xmlnodeid id, stralloc* name, stralloc* value, HMAP_DB** attrs);
# 77 "lib/xml.h"
typedef int(xml_pred_t)(xmlnode*, const void*, const void*, const void*);
typedef void xml_print_fmt_t(xmlnode*, buffer*, int, char ch, int n);
# 91 "lib/xml.h"
xmlnode* xml_find_with_attrs_l(xmlnode* node, const strlist* attrs);
int xml_match_name_and_attr(xmlnode* node, strlist* names, const char* attr, const char* value);
int xml_match_name(xmlnode* node, strlist* names, const char* attr, const char* value);
# 96 "lib/xml.h"
void xml_add_child(xmlnode* parent, xmlnode* node);
HMAP_DB* xml_attributes(const char* arg, ...);
xmlnode* xml_attrnode(const char* name, size_t name_len, const char* value, size_t value_len);
xmlnode* xml_child_element_attrs(const char* name, xmlnode* parent, const char* arg, ...);
xmlnode* xml_child_element(const char* name, xmlnode* parent);
xmlnode* xml_child_element_text(const char* name, xmlnode* parent, const char* text);
int xml_content_sa(xmlnode* node, stralloc* sa);
size_t xml_num_children(xmlnode* node);
const char* xml_content(xmlnode* node);
void xml_debug(xmlnode* node, buffer* b);
void xml_delete(xmlnode* node);
xmlnode* xml_element_attrs(const char* name, const char* arg, ...);
xmlnode* xml_element(const char* name);
size_t xml_escape(const char* s, size_t n, stralloc* out);
xmlnodeset xml_find_all_1(xmlnode* node, xml_pred_t*, const void* a1);
xmlnodeset xml_find_all_2(xmlnode* node, xml_pred_t*, const void* a1, const void* a2);
xmlnodeset xml_find_all_3(xmlnode* node, xml_pred_t*, const void* a1, const void* a2, const void* a3);
xmlnodeset xml_find_all_attrs(xmlnode* node, const char* attrs);
xmlnode* xml_find_attr(xmlnode* node, const char* attr);
xmlnode* xml_find_element_attr(xmlnode* node, const char* tag, const char* attr, const char* value);
xmlnode* xml_find_element(xmlnode* node, const char* tag);
xmlnode* xml_find_parent_attr(xmlnode* node, const char* attrs);
xmlnode* xml_find_parent_pred_1(xmlnode* node, xml_pred_t*, const void* arg);
xmlnode* xml_find_parent_pred_2(xmlnode* node, xml_pred_t*, const void* a0, const void* a1);
xmlnode* xml_find_parent_pred_3(xmlnode* node, xml_pred_t*, const void* a0, const void* a1, const void* a2);
xmlnode* xml_find_parent(xmlnode* node, const char* tag);
xmlnode* xml_find_pred_1(xmlnode* node, xml_pred_t*, const void* arg);
xmlnode* xml_find_pred_2(xmlnode* node, xml_pred_t*, const void* a0, const void* a1);
xmlnode* xml_find_pred_3(xmlnode* node, xml_pred_t*, const void* a0, const void* a1, const void* a2);
xmlnode* xml_find_pred_n(xmlnode* node, xml_pred_t*, int n, ...);
xmlnode* xml_find_with_attrs(xmlnode* node, const char* attrs);
void xml_free(xmlnode* node);
double xml_get_attribute_double(xmlnode* node, const char* attr);
long xml_get_attribute_long(xmlnode* node, const char* attr);
int xml_get_attribute_sa(xmlnode* n, stralloc* sa, const char* name);
char* xml_get_attribute(xmlnode* node, const char* attr);
xmlnode* xml_get_document(xmlnode* node);
char* xml_get_text(xmlnode* node, stralloc* out);
int xml_has_attribute_n(xmlnode* node, const char* b, size_t n);
int xml_has_attribute(xmlnode* node, const char* attr);
void xml_insert(xmlnode** nptr, xmlnode* node);
xmlnode* xml_newnode(xmlnodeid type);
int xml_path(const xmlnode* node, stralloc* out);
int xml_path_relative(const xmlnode* node, stralloc* out);
xmlnodeset xml_pfind_all(xmlnode* node, xml_pred_t*, const void* ptr[4]);
xmlnode* xml_pfind_parent(xmlnode* node, xml_pred_t*, const void* ptr[]);
xmlnode* xml_pfind_pred(xmlnode* node, xml_pred_t*, const void* ptr[]);
void xml_print_attributes(HMAP_DB* db, buffer* b, const char* sep, const char* eq, const char* quot);
void xml_print_nodeset(const xmlnodeset* ns, buffer* b);
void xml_print(xmlnode* node, buffer* b, xml_print_fmt_t* fmt);
void xml_read_callback(xmlreader* r, xml_read_callback_fn* fn);
void xml_reader(xmlreader* r, buffer* b);
xmlnode* xml_read_tree(buffer* b);
xmlnode* xml_remove(xmlnode** nptr);
xmlnode* xml_root_element(xmlnode* node);
void xml_set_attribute_double(xmlnode* node, const char* a, double d, int prec);
int xml_set_attributes(xmlnode* node, ...);
void xml_set_attribute(xmlnode* node, const char* a, const char* v);
int xml_tag_pred(xmlnode* node, const void*, const void*, const void*);
xmlnode* xml_textnodeb(const char* text, size_t len);
xmlnode* xml_textnode(const char* s);
void xml_walk(xmlnode* root, int (*func)());
# 159 "lib/xml.h"
static xmlnode*
xml_add_text(xmlnode* parent, const char* text) {
xmlnode* n = xml_textnode(text);
xml_add_child(parent, n);
return n;
}
static size_t
xml_num_attrs(xmlnode* node) {
# 107 "/usr/include/assert.h"
((void) sizeof ((node->type == XML_ELEMENT) ? 1 : 0), __extension__ ({ if (node->type == XML_ELEMENT) ; else __assert_fail (
# 1 "/usr/include/assert.h"
"node->type == XML_ELEMENT",
# 1 "lib/xml.h"
"lib/xml.h",
# 1 "lib/xml.h"
167, __extension__ __PRETTY_FUNCTION__); }));
# 169 "lib/xml.h"
if(node->attributes == 0)
return 0;
return hmap_count(node->attributes);
}
# 174 "lib/xml.h"
void xml_set_attribute_double(xmlnode*, const char* a, double d, int prec);
void xml_set_attribute(xmlnode*, const char* a, const char* v);
int xml_set_attributes(xmlnode*, ...);
HMAP_DB* xml_attributes(const char* arg, ...);
xmlnode* xml_element(const char*);
xmlnode* xml_child_element(const char*, xmlnode*);
# 24 "lib/xml.h"
static inline xmlnode**
# 191 "lib/xml.h"
xmlnodeset_begin(const xmlnodeset* ns) {
return ns->nodes ? &ns->nodes[0] : ((void *)0);
}
# 24 "lib/xml.h"
static inline xmlnode**
# 195 "lib/xml.h"
xmlnodeset_end(const xmlnodeset* ns) {
return ns->nodes ? &ns->nodes[ns->size] : ((void *)0);
}
# 24 "lib/xml.h"
static inline size_t
# 200 "lib/xml.h"
xmlnodeset_size(const xmlnodeset* set) {
return set->size;
}
# 205 "lib/xml.h"
typedef xmlnode** xmlnodeset_iter_t;
# 24 "lib/xml.h"
static inline void
# 208 "lib/xml.h"
xmlnodeset_iter_pp(xmlnode*** itp) {
++(*itp);
}
# 24 "lib/xml.h"
static inline void
# 212 "lib/xml.h"
xmlnodeset_iter_mm(xmlnode*** itp) {
--(*itp);
}
# 24 "lib/xml.h"
static inline xmlnode*
# 216 "lib/xml.h"
xmlnodeset_iter_ref(xmlnode* const* const itp) {
return *(itp);
}
# 24 "lib/xml.h"
static inline int
# 220 "lib/xml.h"
xmlnodeset_iter_eq(xmlnode*** itp1, xmlnode*** itp2) {
return (*itp1) == (*itp2);
}
# 24 "lib/xml.h"
static inline ptrdiff_t
# 224 "lib/xml.h"
xmlnodeset_iter_dist(xmlnode*** itp1, xmlnode*** itp2) {
return (*itp2) - (*itp1);
}
# 231 "lib/xml.h"
xmlnode* xml_find_pred(xmlnode*, xml_pred_t*, ...);
xmlnodeset xml_find_all(xmlnode*, xml_pred_t*, ...);
xmlnodeset xml_find_all_1(xmlnode*, xml_pred_t*, const void*);
xmlnodeset xml_find_all_2(xmlnode*, xml_pred_t*, const void*, const void*);
xmlnodeset xml_find_all_3(xmlnode*, xml_pred_t*, const void*, const void*, const void*);
# 237 "lib/xml.h"
xmlnode* xml_find_pred_1(xmlnode*, xml_pred_t*, const void* arg);
xmlnode* xml_find_pred_2(xmlnode*, xml_pred_t*, const void* a0, const void* a1);
xmlnode* xml_find_pred_3(xmlnode*, xml_pred_t*, const void* a0, const void* a1, const void* a2);
# 241 "lib/xml.h"
xmlnode* xml_find_element(xmlnode*, const char* tag);
xmlnode* xml_find_pred_n(xmlnode*, xml_pred_t*, int n, ...);
# 244 "lib/xml.h"
int xml_has_attribute_n(xmlnode*, const char* b, size_t n);
int xml_has_attribute(xmlnode*, const char* attr);
# 248 "lib/xml.h"
xmlnode* xml_find_with_attrs_l(xmlnode*, const strlist* attrs);
# 251 "lib/xml.h"
xmlnode* xml_find_with_attrs(xmlnode*, const char* attrs);
xmlnodeset xml_find_all_attrs(xmlnode*, const char* attrs);
# 254 "lib/xml.h"
xmlnode* xml_find_parent_attr(xmlnode*, const char* attrs);
xmlnode* xml_find_parent_pred_1(xmlnode*, xml_pred_t*, const void* arg);
xmlnode* xml_find_parent_pred_2(xmlnode*, xml_pred_t*, const void* a0, const void* a1);
xmlnode* xml_find_parent_pred_3(xmlnode*, xml_pred_t*, const void* a0, const void* a1, const void* a2);
xmlnode* xml_find_parent(xmlnode*, const char* tag);
# 260 "lib/xml.h"
void xml_walk(xmlnode*, int (*)());
char* xml_get_text(xmlnode* node, stralloc* out);
# 263 "lib/xml.h"
xmlnode* xml_element_attrs(const char* name, const char* arg, ...);
xmlnode* xml_child_element_attrs(const char* name, xmlnode* parent, const char* arg, ...);
xmlnode* xml_child_element_text(const char* name, xmlnode* parent, const char* text);
# 267 "lib/xml.h"
size_t xml_scan_comment(const char* x, size_t len);
size_t xml_scan_tag(const char* x, size_t len, size_t* toklen);
size_t xml_scan_attrname(const char* x, size_t len, size_t* toklen);
size_t xml_scan_attrvalue(const char* x, size_t len, size_t* toklen);
# 272 "lib/xml.h"
void xml_scanner_buf(xmlscanner* s, buffer* b);
void xml_scanner(xmlscanner* s, const char* x, size_t len);
# 275 "lib/xml.h"
void xml_scanner_sa(xmlscanner* s, const stralloc* sa);
# 277 "lib/xml.h"
xmltoken xml_read_token(xmlscanner* s);
# 6 "uri.h"
typedef struct {
const char* proto;
const char* host;
uint16 port;
const char* location;
const char* username;
const char* password;
const char* anchor;
} uri_t;
# 16 "uri.h"
void uri_dump(buffer* b, const uri_t* u);
size_t uri_fmt(char* x, const uri_t* u);
void uri_free(uri_t* uri);
int uri_init(uri_t* u);
size_t uri_scan(uri_t* u, const char* x, size_t len);
size_t uri_find(const char* x, size_t len);
char* uri_str(const uri_t* u);
void uri_copy(uri_t* to, const uri_t* from);
void uri_clear_anchor(uri_t* uri);
# 37 "/usr/include/errno.h"
extern int *__errno_location (void) __attribute__ ((__nothrow__ , __leaf__)) __attribute__ ((__const__));
# 43 "/usr/include/string.h"
extern void *memcpy (void *__restrict __dest, const void *__restrict __src,
size_t __n) __attribute__ ((__nothrow__ , __leaf__)) __attribute__ ((__nonnull__ (1, 2)));
# 47 "/usr/include/string.h"
extern void *memmove (void *__dest, const void *__src, size_t __n)
# 55 "/usr/include/sys/cdefs.h"
__attribute__ ((__nothrow__ , __leaf__)) __attribute__ ((__nonnull__ (1, 2)));
# 54 "/usr/include/string.h"
extern void *memccpy (void *__restrict __dest, const void *__restrict __src,
int __c, size_t __n)
# 55 "/usr/include/sys/cdefs.h"
__attribute__ ((__nothrow__ , __leaf__)) __attribute__ ((__nonnull__ (1, 2)));
# 61 "/usr/include/string.h"
extern void *memset (void *__s, int __c, size_t __n) __attribute__ ((__nothrow__ , __leaf__)) __attribute__ ((__nonnull__ (1)));
# 64 "/usr/include/string.h"
extern int memcmp (const void *__s1, const void *__s2, size_t __n)
# 55 "/usr/include/sys/cdefs.h"
__attribute__ ((__nothrow__ , __leaf__)) __attribute__ (()) __attribute__ ((__nonnull__ (1, 2)));
# 91 "/usr/include/string.h"
extern void *memchr (const void *__s, int __c, size_t __n)
# 55 "/usr/include/sys/cdefs.h"
__attribute__ ((__nothrow__ , __leaf__)) __attribute__ (()) __attribute__ ((__nonnull__ (1)));
# 122 "/usr/include/string.h"
extern char *strcpy (char *__restrict __dest, const char *__restrict __src)
# 55 "/usr/include/sys/cdefs.h"
__attribute__ ((__nothrow__ , __leaf__)) __attribute__ ((__nonnull__ (1, 2)));
# 125 "/usr/include/string.h"
extern char *strncpy (char *__restrict __dest,
const char *__restrict __src, size_t __n)
# 55 "/usr/include/sys/cdefs.h"
__attribute__ ((__nothrow__ , __leaf__)) __attribute__ ((__nonnull__ (1, 2)));
# 130 "/usr/include/string.h"
extern char *strcat (char *__restrict __dest, const char *__restrict __src)
# 55 "/usr/include/sys/cdefs.h"
__attribute__ ((__nothrow__ , __leaf__)) __attribute__ ((__nonnull__ (1, 2)));
# 133 "/usr/include/string.h"
extern char *strncat (char *__restrict __dest, const char *__restrict __src,
size_t __n) __attribute__ ((__nothrow__ , __leaf__)) __attribute__ ((__nonnull__ (1, 2)));
# 137 "/usr/include/string.h"
extern int strcmp (const char *__s1, const char *__s2)
# 55 "/usr/include/sys/cdefs.h"
__attribute__ ((__nothrow__ , __leaf__)) __attribute__ (()) __attribute__ ((__nonnull__ (1, 2)));
# 140 "/usr/include/string.h"
extern int strncmp (const char *__s1, const char *__s2, size_t __n)
# 55 "/usr/include/sys/cdefs.h"
__attribute__ ((__nothrow__ , __leaf__)) __attribute__ (()) __attribute__ ((__nonnull__ (1, 2)));
# 144 "/usr/include/string.h"
extern int strcoll (const char *__s1, const char *__s2)
# 55 "/usr/include/sys/cdefs.h"
__attribute__ ((__nothrow__ , __leaf__)) __attribute__ (()) __attribute__ ((__nonnull__ (1, 2)));
# 147 "/usr/include/string.h"
extern size_t strxfrm (char *__restrict __dest,
const char *__restrict __src, size_t __n)
# 55 "/usr/include/sys/cdefs.h"
__attribute__ ((__nothrow__ , __leaf__)) __attribute__ ((__nonnull__ (2)));
# 28 "/usr/include/bits/types/__locale_t.h"
struct __locale_struct
{
# 31 "/usr/include/bits/types/__locale_t.h"
struct __locale_data *__locales[13];
# 34 "/usr/include/bits/types/__locale_t.h"
const unsigned short int *__ctype_b;
const int *__ctype_tolower;
const int *__ctype_toupper;
# 39 "/usr/include/bits/types/__locale_t.h"
const char *__names[13];
};
# 42 "/usr/include/bits/types/__locale_t.h"
typedef struct __locale_struct *__locale_t;
# 24 "/usr/include/bits/types/locale_t.h"
typedef __locale_t locale_t;
# 156 "/usr/include/string.h"
extern int strcoll_l (const char *__s1, const char *__s2, locale_t __l)
# 55 "/usr/include/sys/cdefs.h"
__attribute__ ((__nothrow__ , __leaf__)) __attribute__ (()) __attribute__ ((__nonnull__ (1, 2, 3)));
# 160 "/usr/include/string.h"
extern size_t strxfrm_l (char *__dest, const char *__src, size_t __n,
locale_t __l) __attribute__ ((__nothrow__ , __leaf__)) __attribute__ ((__nonnull__ (2, 4)));
# 167 "/usr/include/string.h"
extern char *strdup (const char *__s)
# 55 "/usr/include/sys/cdefs.h"
__attribute__ ((__nothrow__ , __leaf__)) __attribute__ ((__malloc__)) __attribute__ ((__nonnull__ (1)));
# 175 "/usr/include/string.h"
extern char *strndup (const char *__string, size_t __n)
# 55 "/usr/include/sys/cdefs.h"
__attribute__ ((__nothrow__ , __leaf__)) __attribute__ ((__malloc__)) __attribute__ ((__nonnull__ (1)));
# 226 "/usr/include/string.h"
extern char *strchr (const char *__s, int __c)
# 55 "/usr/include/sys/cdefs.h"
__attribute__ ((__nothrow__ , __leaf__)) __attribute__ (()) __attribute__ ((__nonnull__ (1)));
# 253 "/usr/include/string.h"
extern char *strrchr (const char *__s, int __c)
# 55 "/usr/include/sys/cdefs.h"
__attribute__ ((__nothrow__ , __leaf__)) __attribute__ (()) __attribute__ ((__nonnull__ (1)));
# 273 "/usr/include/string.h"
extern size_t strcspn (const char *__s, const char *__reject)
# 55 "/usr/include/sys/cdefs.h"
__attribute__ ((__nothrow__ , __leaf__)) __attribute__ (()) __attribute__ ((__nonnull__ (1, 2)));
# 277 "/usr/include/string.h"
extern size_t strspn (const char *__s, const char *__accept)
# 55 "/usr/include/sys/cdefs.h"
__attribute__ ((__nothrow__ , __leaf__)) __attribute__ (()) __attribute__ ((__nonnull__ (1, 2)));
# 303 "/usr/include/string.h"
extern char *strpbrk (const char *__s, const char *__accept)
# 55 "/usr/include/sys/cdefs.h"
__attribute__ ((__nothrow__ , __leaf__)) __attribute__ (()) __attribute__ ((__nonnull__ (1, 2)));
# 330 "/usr/include/string.h"
extern char *strstr (const char *__haystack, const char *__needle)
# 55 "/usr/include/sys/cdefs.h"
__attribute__ ((__nothrow__ , __leaf__)) __attribute__ (()) __attribute__ ((__nonnull__ (1, 2)));
# 336 "/usr/include/string.h"
extern char *strtok (char *__restrict __s, const char *__restrict __delim)
# 55 "/usr/include/sys/cdefs.h"
__attribute__ ((__nothrow__ , __leaf__)) __attribute__ ((__nonnull__ (2)));
# 341 "/usr/include/string.h"
extern char *__strtok_r (char *__restrict __s,
const char *__restrict __delim,
char **__restrict __save_ptr)
# 55 "/usr/include/sys/cdefs.h"
__attribute__ ((__nothrow__ , __leaf__)) __attribute__ ((__nonnull__ (2, 3)));
# 346 "/usr/include/string.h"
extern char *strtok_r (char *__restrict __s, const char *__restrict __delim,
char **__restrict __save_ptr)
# 55 "/usr/include/sys/cdefs.h"
__attribute__ ((__nothrow__ , __leaf__)) __attribute__ ((__nonnull__ (2, 3)));
# 385 "/usr/include/string.h"
extern size_t strlen (const char *__s)
# 55 "/usr/include/sys/cdefs.h"
__attribute__ ((__nothrow__ , __leaf__)) __attribute__ (()) __attribute__ ((__nonnull__ (1)));
# 391 "/usr/include/string.h"
extern size_t strnlen (const char *__string, size_t __maxlen)
# 55 "/usr/include/sys/cdefs.h"
__attribute__ ((__nothrow__ , __leaf__)) __attribute__ (()) __attribute__ ((__nonnull__ (1)));
# 397 "/usr/include/string.h"
extern char *strerror (int __errnum) __attribute__ ((__nothrow__ , __leaf__));
# 410 "/usr/include/string.h"
extern int strerror_r (int __errnum, char *__buf, size_t __buflen) __asm__ ("") __attribute__ ((__nothrow__ , __leaf__)) __attribute__ ((__nonnull__ (2)));
# 428 "/usr/include/string.h"
extern char *strerror_l (int __errnum, locale_t __l) __attribute__ ((__nothrow__ , __leaf__));
# 34 "/usr/include/strings.h"
extern int bcmp (const void *__s1, const void *__s2, size_t __n)
# 55 "/usr/include/sys/cdefs.h"
__attribute__ ((__nothrow__ , __leaf__)) __attribute__ (()) __attribute__ ((__nonnull__ (1, 2)));
# 38 "/usr/include/strings.h"
extern void bcopy (const void *__src, void *__dest, size_t __n)
# 55 "/usr/include/sys/cdefs.h"
__attribute__ ((__nothrow__ , __leaf__)) __attribute__ ((__nonnull__ (1, 2)));
# 42 "/usr/include/strings.h"
extern void bzero (void *__s, size_t __n) __attribute__ ((__nothrow__ , __leaf__)) __attribute__ ((__nonnull__ (1)));
# 68 "/usr/include/strings.h"
extern char *index (const char *__s, int __c)
# 55 "/usr/include/sys/cdefs.h"
__attribute__ ((__nothrow__ , __leaf__)) __attribute__ (()) __attribute__ ((__nonnull__ (1)));
# 96 "/usr/include/strings.h"
extern char *rindex (const char *__s, int __c)
# 55 "/usr/include/sys/cdefs.h"
__attribute__ ((__nothrow__ , __leaf__)) __attribute__ (()) __attribute__ ((__nonnull__ (1)));
# 104 "/usr/include/strings.h"
extern int ffs (int __i) __attribute__ ((__nothrow__ , __leaf__)) __attribute__ ((__const__));
# 110 "/usr/include/strings.h"
extern int ffsl (long int __l) __attribute__ ((__nothrow__ , __leaf__)) __attribute__ ((__const__));
__extension__ extern int ffsll (long long int __ll)
# 55 "/usr/include/sys/cdefs.h"
__attribute__ ((__nothrow__ , __leaf__)) __attribute__ ((__const__));
# 116 "/usr/include/strings.h"
extern int strcasecmp (const char *__s1, const char *__s2)
# 55 "/usr/include/sys/cdefs.h"
__attribute__ ((__nothrow__ , __leaf__)) __attribute__ (()) __attribute__ ((__nonnull__ (1, 2)));
# 120 "/usr/include/strings.h"
extern int strncasecmp (const char *__s1, const char *__s2, size_t __n)
# 55 "/usr/include/sys/cdefs.h"
__attribute__ ((__nothrow__ , __leaf__)) __attribute__ (()) __attribute__ ((__nonnull__ (1, 2)));
# 128 "/usr/include/strings.h"
extern int strcasecmp_l (const char *__s1, const char *__s2, locale_t __loc)
# 55 "/usr/include/sys/cdefs.h"
__attribute__ ((__nothrow__ , __leaf__)) __attribute__ (()) __attribute__ ((__nonnull__ (1, 2, 3)));
# 133 "/usr/include/strings.h"
extern int strncasecmp_l (const char *__s1, const char *__s2,
size_t __n, locale_t __loc)
# 55 "/usr/include/sys/cdefs.h"
__attribute__ ((__nothrow__ , __leaf__)) __attribute__ (()) __attribute__ ((__nonnull__ (1, 2, 4)));
# 436 "/usr/include/string.h"
extern void explicit_bzero (void *__s, size_t __n) __attribute__ ((__nothrow__ , __leaf__)) __attribute__ ((__nonnull__ (1)));
# 440 "/usr/include/string.h"
extern char *strsep (char **__restrict __stringp,
const char *__restrict __delim)
# 55 "/usr/include/sys/cdefs.h"
__attribute__ ((__nothrow__ , __leaf__)) __attribute__ ((__nonnull__ (1, 2)));
# 447 "/usr/include/string.h"
extern char *strsignal (int __sig) __attribute__ ((__nothrow__ , __leaf__));
# 450 "/usr/include/string.h"
extern char *__stpcpy (char *__restrict __dest, const char *__restrict __src)
# 55 "/usr/include/sys/cdefs.h"
__attribute__ ((__nothrow__ , __leaf__)) __attribute__ ((__nonnull__ (1, 2)));
# 452 "/usr/include/string.h"
extern char *stpcpy (char *__restrict __dest, const char *__restrict __src)
# 55 "/usr/include/sys/cdefs.h"
__attribute__ ((__nothrow__ , __leaf__)) __attribute__ ((__nonnull__ (1, 2)));
# 457 "/usr/include/string.h"
extern char *__stpncpy (char *__restrict __dest,
const char *__restrict __src, size_t __n)
# 55 "/usr/include/sys/cdefs.h"
__attribute__ ((__nothrow__ , __leaf__)) __attribute__ ((__nonnull__ (1, 2)));
# 460 "/usr/include/string.h"
extern char *stpncpy (char *__restrict __dest,
const char *__restrict __src, size_t __n)
# 55 "/usr/include/sys/cdefs.h"
__attribute__ ((__nothrow__ , __leaf__)) __attribute__ ((__nonnull__ (1, 2)));
# 8 "/usr/include/bits/types/sig_atomic_t.h"
typedef __sig_atomic_t sig_atomic_t;
# 24 "/usr/include/bits/types/__sigval_t.h"
union sigval
{
int sival_int;
void *sival_ptr;
};
# 30 "/usr/include/bits/types/__sigval_t.h"
typedef union sigval __sigval_t;
# 36 "/usr/include/bits/types/siginfo_t.h"
typedef struct
{
int si_signo;
# 40 "/usr/include/bits/types/siginfo_t.h"
int si_errno;
# 42 "/usr/include/bits/types/siginfo_t.h"
int si_code;
# 48 "/usr/include/bits/types/siginfo_t.h"
int __pad0;
# 51 "/usr/include/bits/types/siginfo_t.h"
union
{
int _pad[((128 / sizeof (int)) - 4)];
# 56 "/usr/include/bits/types/siginfo_t.h"
struct
{
__pid_t si_pid;
__uid_t si_uid;
} _kill;
# 63 "/usr/include/bits/types/siginfo_t.h"
struct
{
int si_tid;
int si_overrun;
__sigval_t si_sigval;
} _timer;
# 71 "/usr/include/bits/types/siginfo_t.h"
struct
{
__pid_t si_pid;
__uid_t si_uid;
__sigval_t si_sigval;
} _rt;
# 79 "/usr/include/bits/types/siginfo_t.h"
struct
{
__pid_t si_pid;
__uid_t si_uid;
int si_status;
# 24 "/usr/include/bits/types/siginfo_t.h"
__clock_t si_utime;
# 24 "/usr/include/bits/types/siginfo_t.h"
__clock_t si_stime;
# 86 "/usr/include/bits/types/siginfo_t.h"
} _sigchld;
# 89 "/usr/include/bits/types/siginfo_t.h"
struct
{
void *si_addr;
# 93 "/usr/include/bits/types/siginfo_t.h"
short int si_addr_lsb;
union
{
# 97 "/usr/include/bits/types/siginfo_t.h"
struct
{
void *_lower;
void *_upper;
} _addr_bnd;
# 103 "/usr/include/bits/types/siginfo_t.h"
__uint32_t _pkey;
} _bounds;
} _sigfault;
# 108 "/usr/include/bits/types/siginfo_t.h"
struct
{
# 21 "/usr/include/bits/types/siginfo_t.h"
long int si_band;
# 111 "/usr/include/bits/types/siginfo_t.h"
int si_fd;
} _sigpoll;
# 116 "/usr/include/bits/types/siginfo_t.h"
struct
{
void *_call_addr;
int _syscall;
unsigned int _arch;
} _sigsys;
# 123 "/usr/include/bits/types/siginfo_t.h"
} _sifields;
} siginfo_t ;
# 35 "/usr/include/bits/siginfo-consts.h"
enum
{
SI_ASYNCNL = -60,
SI_DETHREAD = -7,
# 40 "/usr/include/bits/siginfo-consts.h"
SI_TKILL,
SI_SIGIO,
# 43 "/usr/include/bits/siginfo-consts.h"
SI_ASYNCIO,
SI_MESGQ,
SI_TIMER,
# 51 "/usr/include/bits/siginfo-consts.h"
SI_QUEUE,
SI_USER,
SI_KERNEL = 0x80
# 66 "/usr/include/bits/siginfo-consts.h"
};
# 71 "/usr/include/bits/siginfo-consts.h"
enum
{
ILL_ILLOPC = 1,
# 75 "/usr/include/bits/siginfo-consts.h"
ILL_ILLOPN,
# 77 "/usr/include/bits/siginfo-consts.h"
ILL_ILLADR,
# 79 "/usr/include/bits/siginfo-consts.h"
ILL_ILLTRP,
# 81 "/usr/include/bits/siginfo-consts.h"
ILL_PRVOPC,
# 83 "/usr/include/bits/siginfo-consts.h"
ILL_PRVREG,
# 85 "/usr/include/bits/siginfo-consts.h"
ILL_COPROC,
# 87 "/usr/include/bits/siginfo-consts.h"
ILL_BADSTK,
# 89 "/usr/include/bits/siginfo-consts.h"
ILL_BADIADDR
# 91 "/usr/include/bits/siginfo-consts.h"
};
# 94 "/usr/include/bits/siginfo-consts.h"
enum
{
FPE_INTDIV = 1,
# 98 "/usr/include/bits/siginfo-consts.h"
FPE_INTOVF,
# 100 "/usr/include/bits/siginfo-consts.h"
FPE_FLTDIV,
# 102 "/usr/include/bits/siginfo-consts.h"
FPE_FLTOVF,
# 104 "/usr/include/bits/siginfo-consts.h"
FPE_FLTUND,
# 106 "/usr/include/bits/siginfo-consts.h"
FPE_FLTRES,
# 108 "/usr/include/bits/siginfo-consts.h"
FPE_FLTINV,
# 110 "/usr/include/bits/siginfo-consts.h"
FPE_FLTSUB,
# 112 "/usr/include/bits/siginfo-consts.h"
FPE_FLTUNK = 14,
# 114 "/usr/include/bits/siginfo-consts.h"
FPE_CONDTRAP
# 116 "/usr/include/bits/siginfo-consts.h"
};
# 119 "/usr/include/bits/siginfo-consts.h"
enum
{
SEGV_MAPERR = 1,
# 123 "/usr/include/bits/siginfo-consts.h"
SEGV_ACCERR,
# 125 "/usr/include/bits/siginfo-consts.h"
SEGV_BNDERR,
# 127 "/usr/include/bits/siginfo-consts.h"
SEGV_PKUERR,
# 129 "/usr/include/bits/siginfo-consts.h"
SEGV_ACCADI,
# 131 "/usr/include/bits/siginfo-consts.h"
SEGV_ADIDERR,
# 133 "/usr/include/bits/siginfo-consts.h"
SEGV_ADIPERR
# 135 "/usr/include/bits/siginfo-consts.h"
};
# 138 "/usr/include/bits/siginfo-consts.h"
enum
{
BUS_ADRALN = 1,
# 142 "/usr/include/bits/siginfo-consts.h"
BUS_ADRERR,
# 144 "/usr/include/bits/siginfo-consts.h"
BUS_OBJERR,
# 146 "/usr/include/bits/siginfo-consts.h"
BUS_MCEERR_AR,
# 148 "/usr/include/bits/siginfo-consts.h"
BUS_MCEERR_AO
# 150 "/usr/include/bits/siginfo-consts.h"
};
# 172 "/usr/include/bits/siginfo-consts.h"
enum
{
CLD_EXITED = 1,
# 176 "/usr/include/bits/siginfo-consts.h"
CLD_KILLED,
# 178 "/usr/include/bits/siginfo-consts.h"
CLD_DUMPED,
# 180 "/usr/include/bits/siginfo-consts.h"
CLD_TRAPPED,
# 182 "/usr/include/bits/siginfo-consts.h"
CLD_STOPPED,
# 184 "/usr/include/bits/siginfo-consts.h"
CLD_CONTINUED
# 186 "/usr/include/bits/siginfo-consts.h"
};
# 189 "/usr/include/bits/siginfo-consts.h"
enum
{
POLL_IN = 1,
# 193 "/usr/include/bits/siginfo-consts.h"
POLL_OUT,
# 195 "/usr/include/bits/siginfo-consts.h"
POLL_MSG,
# 197 "/usr/include/bits/siginfo-consts.h"
POLL_ERR,
# 199 "/usr/include/bits/siginfo-consts.h"
POLL_PRI,
# 201 "/usr/include/bits/siginfo-consts.h"
POLL_HUP
# 203 "/usr/include/bits/siginfo-consts.h"
};
# 16 "/usr/include/bits/types/sigval_t.h"
typedef __sigval_t sigval_t;
# 22 "/usr/include/bits/types/sigevent_t.h"
typedef struct sigevent
{
__sigval_t sigev_value;
int sigev_signo;
int sigev_notify;
# 28 "/usr/include/bits/types/sigevent_t.h"
union
{
int _pad[((64 / sizeof (int)) - 4)];
# 34 "/usr/include/bits/types/sigevent_t.h"
__pid_t _tid;
# 36 "/usr/include/bits/types/sigevent_t.h"
struct
{
void (*_function) (__sigval_t);
pthread_attr_t *_attribute;
} _sigev_thread;
} _sigev_un;
} sigevent_t;
# 27 "/usr/include/bits/sigevent-consts.h"
enum
{
SIGEV_SIGNAL = 0,
# 31 "/usr/include/bits/sigevent-consts.h"
SIGEV_NONE,
# 33 "/usr/include/bits/sigevent-consts.h"
SIGEV_THREAD,
# 36 "/usr/include/bits/sigevent-consts.h"
SIGEV_THREAD_ID = 4
# 39 "/usr/include/bits/sigevent-consts.h"
};
# 72 "/usr/include/signal.h"
typedef void (*__sighandler_t) (int);
# 77 "/usr/include/signal.h"
extern __sighandler_t __sysv_signal (int __sig, __sighandler_t __handler)
# 55 "/usr/include/sys/cdefs.h"
__attribute__ ((__nothrow__ , __leaf__));
# 88 "/usr/include/signal.h"
extern __sighandler_t signal (int __sig, __sighandler_t __handler)
# 55 "/usr/include/sys/cdefs.h"
__attribute__ ((__nothrow__ , __leaf__));
# 112 "/usr/include/signal.h"
extern int kill (__pid_t __pid, int __sig) __attribute__ ((__nothrow__ , __leaf__));
# 119 "/usr/include/signal.h"
extern int killpg (__pid_t __pgrp, int __sig) __attribute__ ((__nothrow__ , __leaf__));
# 123 "/usr/include/signal.h"
extern int raise (int __sig) __attribute__ ((__nothrow__ , __leaf__));
# 127 "/usr/include/signal.h"
extern __sighandler_t ssignal (int __sig, __sighandler_t __handler)
# 55 "/usr/include/sys/cdefs.h"
__attribute__ ((__nothrow__ , __leaf__));
# 129 "/usr/include/signal.h"
extern int gsignal (int __sig) __attribute__ ((__nothrow__ , __leaf__));
# 134 "/usr/include/signal.h"
extern void psignal (int __sig, const char *__s);
# 137 "/usr/include/signal.h"
extern void psiginfo (const siginfo_t *__pinfo, const char *__s);
# 170 "/usr/include/signal.h"
extern int sigblock (int __mask) __attribute__ ((__nothrow__ , __leaf__)) __attribute__ ((__deprecated__));
# 173 "/usr/include/signal.h"
extern int sigsetmask (int __mask) __attribute__ ((__nothrow__ , __leaf__)) __attribute__ ((__deprecated__));
# 176 "/usr/include/signal.h"
extern int siggetmask (void) __attribute__ ((__nothrow__ , __leaf__)) __attribute__ ((__deprecated__));
# 190 "/usr/include/signal.h"
typedef __sighandler_t sig_t;
# 196 "/usr/include/signal.h"
extern int sigemptyset (sigset_t *__set) __attribute__ ((__nothrow__ , __leaf__)) __attribute__ ((__nonnull__ (1)));
# 199 "/usr/include/signal.h"
extern int sigfillset (sigset_t *__set) __attribute__ ((__nothrow__ , __leaf__)) __attribute__ ((__nonnull__ (1)));
# 202 "/usr/include/signal.h"
extern int sigaddset (sigset_t *__set, int __signo) __attribute__ ((__nothrow__ , __leaf__)) __attribute__ ((__nonnull__ (1)));
# 205 "/usr/include/signal.h"
extern int sigdelset (sigset_t *__set, int __signo) __attribute__ ((__nothrow__ , __leaf__)) __attribute__ ((__nonnull__ (1)));
# 208 "/usr/include/signal.h"
extern int sigismember (const sigset_t *__set, int __signo)
# 55 "/usr/include/sys/cdefs.h"
__attribute__ ((__nothrow__ , __leaf__)) __attribute__ ((__nonnull__ (1)));
# 27 "/usr/include/bits/sigaction.h"
struct sigaction
{
# 31 "/usr/include/bits/sigaction.h"
union
{
# 34 "/usr/include/bits/sigaction.h"
__sighandler_t sa_handler;
# 36 "/usr/include/bits/sigaction.h"
void (*sa_sigaction) (int, siginfo_t *, void *);
}
__sigaction_handler;
# 46 "/usr/include/bits/sigaction.h"
__sigset_t sa_mask;
# 49 "/usr/include/bits/sigaction.h"
int sa_flags;
# 52 "/usr/include/bits/sigaction.h"
void (*sa_restorer) (void);
};
# 229 "/usr/include/signal.h"
extern int sigprocmask (int __how, const sigset_t *__restrict __set,
sigset_t *__restrict __oset) __attribute__ ((__nothrow__ , __leaf__));
# 237 "/usr/include/signal.h"
extern int sigsuspend (const sigset_t *__set) __attribute__ ((__nonnull__ (1)));
# 240 "/usr/include/signal.h"
extern int sigaction (int __sig, const struct sigaction *__restrict __act,
struct sigaction *__restrict __oact) __attribute__ ((__nothrow__ , __leaf__));
# 244 "/usr/include/signal.h"
extern int sigpending (sigset_t *__set) __attribute__ ((__nothrow__ , __leaf__)) __attribute__ ((__nonnull__ (1)));
# 252 "/usr/include/signal.h"
extern int sigwait (const sigset_t *__restrict __set, int *__restrict __sig)
# 293 "/usr/include/sys/cdefs.h"
__attribute__ ((__nonnull__ (1, 2)));
# 261 "/usr/include/signal.h"
extern int sigwaitinfo (const sigset_t *__restrict __set,
siginfo_t *__restrict __info) __attribute__ ((__nonnull__ (1)));
# 269 "/usr/include/signal.h"
extern int sigtimedwait (const sigset_t *__restrict __set,
siginfo_t *__restrict __info,
const struct timespec *__restrict __timeout)
# 293 "/usr/include/sys/cdefs.h"
__attribute__ ((__nonnull__ (1)));
# 276 "/usr/include/signal.h"
extern int sigqueue (__pid_t __pid, int __sig, const union sigval __val)
# 55 "/usr/include/sys/cdefs.h"
__attribute__ ((__nothrow__ , __leaf__));
# 286 "/usr/include/signal.h"
extern const char *const _sys_siglist[(64 + 1)];
extern const char *const sys_siglist[(64 + 1)];
# 31 "/usr/include/bits/sigcontext.h"
struct _fpx_sw_bytes
{
__uint32_t magic1;
__uint32_t extended_size;
__uint64_t xstate_bv;
__uint32_t xstate_size;
__uint32_t __glibc_reserved1[7];
};
# 40 "/usr/include/bits/sigcontext.h"
struct _fpreg
{
unsigned short significand[4];
unsigned short exponent;
};
# 46 "/usr/include/bits/sigcontext.h"
struct _fpxreg
{
unsigned short significand[4];
unsigned short exponent;
unsigned short __glibc_reserved1[3];
};
# 53 "/usr/include/bits/sigcontext.h"
struct _xmmreg
{
__uint32_t element[4];
};
# 123 "/usr/include/bits/sigcontext.h"
struct _fpstate
{
# 126 "/usr/include/bits/sigcontext.h"
__uint16_t cwd;
__uint16_t swd;
__uint16_t ftw;
__uint16_t fop;
__uint64_t rip;
__uint64_t rdp;
__uint32_t mxcsr;
__uint32_t mxcr_mask;
struct _fpxreg _st[8];
struct _xmmreg _xmm[16];
__uint32_t __glibc_reserved1[24];
};
# 139 "/usr/include/bits/sigcontext.h"
struct sigcontext
{
__uint64_t r8;
__uint64_t r9;
__uint64_t r10;
__uint64_t r11;
__uint64_t r12;
__uint64_t r13;
__uint64_t r14;
__uint64_t r15;
__uint64_t rdi;
__uint64_t rsi;
__uint64_t rbp;
__uint64_t rbx;
__uint64_t rdx;
__uint64_t rax;
__uint64_t rcx;
__uint64_t rsp;
__uint64_t rip;
__uint64_t eflags;
unsigned short cs;
unsigned short gs;
unsigned short fs;
unsigned short __pad0;
__uint64_t err;
__uint64_t trapno;
__uint64_t oldmask;
__uint64_t cr2;
__extension__ union
{
struct _fpstate * fpstate;
__uint64_t __fpstate_word;
};
__uint64_t __reserved1 [8];
};
# 177 "/usr/include/bits/sigcontext.h"
struct _xsave_hdr
{
__uint64_t xstate_bv;
__uint64_t __glibc_reserved1[2];
__uint64_t __glibc_reserved2[5];
};
# 184 "/usr/include/bits/sigcontext.h"
struct _ymmh_state
{
__uint32_t ymmh_space[64];
};
# 189 "/usr/include/bits/sigcontext.h"
struct _xstate
{
struct _fpstate fpstate;
struct _xsave_hdr xstate_hdr;
struct _ymmh_state ymmh;
};
# 294 "/usr/include/signal.h"
extern int sigreturn (struct sigcontext *__scp) __attribute__ ((__nothrow__ , __leaf__));
# 26 "/usr/include/bits/types/stack_t.h"
typedef struct
{
void *ss_sp;
int ss_flags;
size_t ss_size;
} stack_t;
# 37 "/usr/include/sys/ucontext.h"
__extension__ typedef long long int greg_t;
# 46 "/usr/include/sys/ucontext.h"
typedef greg_t gregset_t[23];
# 101 "/usr/include/sys/ucontext.h"
struct _libc_fpxreg
{
unsigned short int significand[4];
unsigned short int exponent;
unsigned short int __glibc_reserved1[3];
};
# 108 "/usr/include/sys/ucontext.h"
struct _libc_xmmreg
{
__uint32_t element[4];
};
# 113 "/usr/include/sys/ucontext.h"
struct _libc_fpstate
{
# 116 "/usr/include/sys/ucontext.h"
__uint16_t cwd;
__uint16_t swd;
__uint16_t ftw;
__uint16_t fop;
__uint64_t rip;
__uint64_t rdp;
__uint32_t mxcsr;
__uint32_t mxcr_mask;
struct _libc_fpxreg _st[8];
struct _libc_xmmreg _xmm[16];
__uint32_t __glibc_reserved1[24];
};
# 130 "/usr/include/sys/ucontext.h"
typedef struct _libc_fpstate *fpregset_t;
# 133 "/usr/include/sys/ucontext.h"
typedef struct
{
gregset_t gregs;
# 137 "/usr/include/sys/ucontext.h"
fpregset_t fpregs;
__extension__ unsigned long long __reserved1 [8];
} mcontext_t;
# 142 "/usr/include/sys/ucontext.h"
typedef struct ucontext_t
{
unsigned long int uc_flags;
struct ucontext_t *uc_link;
stack_t uc_stack;
mcontext_t uc_mcontext;
sigset_t uc_sigmask;
struct _libc_fpstate __fpregs_mem;
__extension__ unsigned long long int __ssp[4];
} ucontext_t;
# 314 "/usr/include/signal.h"
extern int siginterrupt (int __sig, int __interrupt) __attribute__ ((__nothrow__ , __leaf__));
# 27 "/usr/include/bits/ss_flags.h"
enum
{
SS_ONSTACK = 1,
# 31 "/usr/include/bits/ss_flags.h"
SS_DISABLE
# 33 "/usr/include/bits/ss_flags.h"
};
# 321 "/usr/include/signal.h"
extern int sigaltstack (const stack_t *__restrict __ss,
stack_t *__restrict __oss) __attribute__ ((__nothrow__ , __leaf__));
# 23 "/usr/include/bits/types/struct_sigstack.h"
struct sigstack
{
void *ss_sp;
int ss_onstack;
};
# 335 "/usr/include/signal.h"
extern int sigstack (struct sigstack *__ss, struct sigstack *__oss)
# 55 "/usr/include/sys/cdefs.h"
__attribute__ ((__nothrow__ , __leaf__)) __attribute__ ((__deprecated__));
# 31 "/usr/include/bits/sigthread.h"
extern int pthread_sigmask (int __how,
const __sigset_t *__restrict __newmask,
__sigset_t *__restrict __oldmask)__attribute__ ((__nothrow__ , __leaf__));
# 36 "/usr/include/bits/sigthread.h"
extern int pthread_kill (pthread_t __threadid, int __signo) __attribute__ ((__nothrow__ , __leaf__));
# 366 "/usr/include/signal.h"
extern int __libc_current_sigrtmin (void) __attribute__ ((__nothrow__ , __leaf__));
# 368 "/usr/include/signal.h"
extern int __libc_current_sigrtmax (void) __attribute__ ((__nothrow__ , __leaf__));
# 28 "httptest.c"
static int last_errno = 0;
static struct taia deadline, stamp;
static int ioserial;
# 32 "httptest.c"
int
set_timeouts(int seconds) {
taia_uint(&deadline, seconds);
taia_uint(&stamp, 0);
}
# 38 "httptest.c"
typedef struct queue_entry_s {
union {
struct queue_entry_s* next;
struct slink link;
};
uri_t uri;
http* http;
} queue_entry;
# 47 "httptest.c"
static const char default_url[] = "http://www.google.ch/search?q=SSL_bio";
# 49 "httptest.c"
static const char* const url_host = "127.0.0.1";
static const char* const url_location = "/login";
static const uint16 url_port = 8080;
static queue_entry* queue;
# 54 "httptest.c"
static io_entry* g_iofd;
static http h;
static buffer htb, out;
# 58 "httptest.c"
static const char* token_types[] = {
"XML_EOF",
"XML_DATA",
"XML_TAG_NAME",
"XML_TAG_CLOSE",
"XML_ATTR_NAME",
"XML_ATTR_VALUE",
"XML_COMMENT",
};
# 68 "httptest.c"
static const char* token_colors[] = {
"\x1b[1;37m",
"\x1b[1;31m",
"\x1b[1;35m",
"\x1b[1;33m",
"\x1b[1;36m",
"\x1b[1;32m",
};
# 77 "httptest.c"
static void
usage(char* av0) {
buffer_putm_internal(buffer_1,
"Usage: ",
str_basename(av0),
" [OPTIONS] [FILES...]\n",
# 404 "/usr/lib/gcc/x86_64-linux-gnu/13/include/stddef.h"
((void *)0));
# 90 "httptest.c"
buffer_flush(buffer_1);
}
# 93 "httptest.c"
static queue_entry*
queue_put(void* head, const char* x) {
queue_entry* e = alloc_zero(sizeof(queue_entry));
# 97 "httptest.c"
uri_init(&e->uri);
uri_scan(&e->uri, x, str_len(x));
# 100 "httptest.c"
slist_push(head ? (slink**)head : (slink**)&queue, (slink*)e);
# 111 "httptest.c"
return e;
}
# 114 "httptest.c"
static void
put_escaped_x(buffer* b, const char* x, size_t len, int unescaped) {
for(size_t i = 0; i < len; i++) {
char buf[32], c = x[i];
# 119 "httptest.c"
if(c >= unescaped)
buffer_putc(b, c);
else
buffer_put(b, buf, fmt_escapecharc(buf, (uint64)(unsigned char)c));
}
}
# 126 "httptest.c"
static void
put_abbreviate(buffer* b, size_t len) {
# 75 "lib/buffer.h"
(__builtin_constant_p("\n\033[38;5;230m... more (") ? buffer_put(b, "\n\033[38;5;230m... more (", __builtin_strlen("\n\033[38;5;230m... more (")) : buffer_puts(b, "\n\033[38;5;230m... more ("));
# 129 "httptest.c"
buffer_putulong(b, len);
# 75 "lib/buffer.h"
(__builtin_constant_p(" bytes total ...\033[0m\n") ? buffer_put(b, " bytes total ...\033[0m\n", __builtin_strlen(" bytes total ...\033[0m\n")) : buffer_puts(b, " bytes total ...\033[0m\n"));
# 131 "httptest.c"
}
# 133 "httptest.c"
static void
put_escaped_n(buffer* b, const char* x, size_t len, size_t maxlen) {
size_t n = len;
# 137 "httptest.c"
if(n > maxlen)
n = maxlen;
# 140 "httptest.c"
put_escaped_x(b, x, n, 0x20);
# 142 "httptest.c"
if(n < len) {
put_abbreviate(b, len);
n = (len - maxlen) >= maxlen ? len - maxlen : maxlen;
put_escaped_x(b, &x[n], len - n, 0x20);
}
}
# 149 "httptest.c"
static void
put_escaped(buffer* b, const char* x, size_t len) {
put_escaped_x(b, x, len, 0x20);
}
# 154 "httptest.c"
static void
put_indented(buffer* b, const char* x, size_t len) {
for(size_t i = 0; i < len; i++) {
char c = x[i];
buffer_putc(b, c);
# 160 "httptest.c"
if(c == '\n')
buffer_putc(b, '\t');
}
}
# 181 "httptest.c"
static int
http_io_handler(http* h, buffer* out) {
fd_type r, w;
int nr = 0, nw = 0;
ssize_t nb, ret = 0;
http_response* response = h->response;
# 188 "httptest.c"
while((w = io_canwrite()) != -1) {
if(h->sock == w) {
if((nb = http_canwrite(h, io_wantread, io_wantwrite)) <= 0) {
ret = nb;
continue;
}
# 195 "httptest.c"
if(nb > 0)
ret += nb;
# 198 "httptest.c"
nw++;
}
}
# 202 "httptest.c"
while((r = io_canread()) != -1) {
if(h->sock == r) {
# 223 "httptest.c"
{
char buf[8192];
ssize_t len;
# 227 "httptest.c"
if((len = buffer_get(&htb, buf, sizeof(buf))) > 0) {
# 244 "httptest.c"
if(buffer_put(out, buf, len)) {
errmsg_warnsys("write error: ", 0);
return 2;
}
# 249 "httptest.c"
buffer_flush(out);
# 251 "httptest.c"
if(len == -1 || response->status == HTTP_STATUS_ERROR) {
errmsg_warnsys("read error: ", 0);
return 1;
}
}
# 263 "httptest.c"
return len;
}
# 266 "httptest.c"
++nr;
}
}
# 270 "httptest.c"
fail:
return ret;
}
# 274 "httptest.c"
static int
process_uris(const char* x, size_t len, strlist* urls, const uri_t* uri) {
size_t i, pos = 0;
uri_t link;
uri_init(&link);
# 280 "httptest.c"
while((i = pos + uri_find(&x[pos], len - pos)) < len) {
size_t n = byte_chrs(&x[i], len - i, "\r\n\t\" ',", str_len("\r\n\t\" ',"));
# 283 "httptest.c"
uri_copy(&link, uri);
# 285 "httptest.c"
n = uri_scan(&link, &x[i], n);
# 295 "httptest.c"
strlist_pushb_unique(urls, &x[i], n);
# 297 "httptest.c"
pos = i + n;
}
}
# 301 "httptest.c"
static int
process_xml(const char* x, size_t len, strlist* urls, uri_t* uri) {
xmlscanner s;
xmltoken tok;
static stralloc attr_name;
# 307 "httptest.c"
xml_scanner(&s, x, len);
# 309 "httptest.c"
do {
tok = xml_read_token(&s);
# 312 "httptest.c"
if(tok.id == XML_ATTR_NAME) {
stralloc_copyb(&attr_name, tok.x, tok.len);
} else
# 316 "httptest.c"
if(tok.id == XML_ATTR_VALUE) {
if((!stralloc_diffs((&attr_name), ("href"))) || (!stralloc_diffs((&attr_name), ("src"))) || (!stralloc_diffs((&attr_name), ("url"))) || byte_finds(tok.x, tok.len, "://") < tok.len) {
stralloc url;
uri_t link;
# 321 "httptest.c"
uri_init(&link);
uri_copy(&link, uri);
stralloc_init(&url);
process_uris(tok.x + 1, tok.len - 2, urls, uri);
# 335 "httptest.c"
stralloc_free(&url);
}
} else if(tok.id == XML_DATA) {
process_uris(tok.x, tok.len, urls, uri);
# 347 "httptest.c"
}
} while(tok.id != XML_EOF);
}
# 351 "httptest.c"
static void
http_process(http* h, strlist* urls, uri_t* uri) {
size_t len;
http_response* response = h->response;
# 356 "httptest.c"
const char* type = http_get_header(response->data.s, response->headers_len, "Content-Type", &len);
size_t typelen = type ? str_chrs(type, "\r\n\0", 3) : 0;
# 359 "httptest.c"
size_t received = response->data.len;
size_t pos = http_skip_header(((&response->data)->s), stralloc_length(&response->data));
# 75 "lib/buffer.h"
(__builtin_constant_p("STATUS: ") ? buffer_put(buffer_2, "STATUS: ", __builtin_strlen("STATUS: ")) : buffer_puts(buffer_2, "STATUS: "));
# 75 "lib/buffer.h"
(__builtin_constant_p(((const char* const[]){"0", "HTTP_RECV_HEADER", "HTTP_RECV_DATA", "HTTP_STATUS_CLOSED", "HTTP_STATUS_ERROR", "HTTP_STATUS_BUSY", "HTTP_STATUS_FINISH", 0})[response->status]) ? buffer_put(buffer_2, ((const char* const[]){"0", "HTTP_RECV_HEADER", "HTTP_RECV_DATA", "HTTP_STATUS_CLOSED", "HTTP_STATUS_ERROR", "HTTP_STATUS_BUSY", "HTTP_STATUS_FINISH", 0})[response->status], __builtin_strlen(((const char* const[]){"0", "HTTP_RECV_HEADER", "HTTP_RECV_DATA", "HTTP_STATUS_CLOSED", "HTTP_STATUS_ERROR", "HTTP_STATUS_BUSY", "HTTP_STATUS_FINISH", 0})[response->status])) : buffer_puts(buffer_2, ((const char* const[]){"0", "HTTP_RECV_HEADER", "HTTP_RECV_DATA", "HTTP_STATUS_CLOSED", "HTTP_STATUS_ERROR", "HTTP_STATUS_BUSY", "HTTP_STATUS_FINISH", 0})[response->status]));
# 367 "httptest.c"
buffer_putnlflush(buffer_2);
# 75 "lib/buffer.h"
(__builtin_constant_p("PTR: ") ? buffer_put(buffer_2, "PTR: ", __builtin_strlen("PTR: ")) : buffer_puts(buffer_2, "PTR: "));
# 369 "httptest.c"
buffer_putulong(buffer_2, response->headers_len);
buffer_putnlflush(buffer_2);
# 75 "lib/buffer.h"
(__builtin_constant_p("TYPE: ") ? buffer_put(buffer_2, "TYPE: ", __builtin_strlen("TYPE: ")) : buffer_puts(buffer_2, "TYPE: "));
# 372 "httptest.c"
buffer_put(buffer_2, type, typelen);
buffer_putnlflush(buffer_2);
--pos;
# 75 "lib/buffer.h"
(__builtin_constant_p("HEADERS: ") ? buffer_put(buffer_2, "HEADERS: ", __builtin_strlen("HEADERS: ")) : buffer_puts(buffer_2, "HEADERS: "));
# 377 "httptest.c"
put_indented(buffer_2, ((&response->data)->s), pos);
# 75 "lib/buffer.h"
(__builtin_constant_p("RESPONSE LENGTH: ") ? buffer_put(buffer_2, "RESPONSE LENGTH: ", __builtin_strlen("RESPONSE LENGTH: ")) : buffer_puts(buffer_2, "RESPONSE LENGTH: "));
# 379 "httptest.c"
buffer_putulonglong(buffer_2, response->data.len - response->headers_len);
# 75 "lib/buffer.h"
(__builtin_constant_p("\nRESPONSE DATA: ") ? buffer_put(buffer_2, "\nRESPONSE DATA: ", __builtin_strlen("\nRESPONSE DATA: ")) : buffer_puts(buffer_2, "\nRESPONSE DATA: "));
# 382 "httptest.c"
if(0 && byte_finds(type, typelen, "html") < typelen || byte_finds(type, typelen, "xml") < typelen) {
process_xml(((&response->data)->s) + pos, stralloc_length(&response->data) - pos, urls, uri);
} else {
put_escaped(buffer_2, ((&response->data)->s) + pos, stralloc_length(&response->data) - pos);
# 389 "httptest.c"
}
# 391 "httptest.c"
buffer_putnlflush(buffer_2);
}
# 394 "httptest.c"
int
response_header(http* h, const char* x, size_t n) {
# 75 "lib/buffer.h"
(__builtin_constant_p("response_header: ") ? buffer_put(buffer_2, "response_header: ", __builtin_strlen("response_header: ")) : buffer_puts(buffer_2, "response_header: "));
# 398 "httptest.c"
buffer_put(buffer_2, x, n);
buffer_putnlflush(buffer_2);
}
# 402 "httptest.c"
int
main(int argc, char* argv[]) {
int argi;
iopause_fd iop;
static char inbuf[128 * 1024], outbuf[256 * 1024];
fd_type fd, outfile;
int c, index;
buffer data;
const char *s, *outname = 0;
char* tmpl = "output-XXXXXX.txt";
struct unix_longopt opts[] = {
{"help", 0, ((void *)0), 'h'},
{"output", 0, ((void *)0), 'o'},
{0, 0, 0, 0},
};
# 418 "httptest.c"
errmsg_iam(argv[0]);
# 423 "httptest.c"
tls_init(0, 0);
# 426 "httptest.c"
for(;;) {
c = unix_getopt_long(argc, argv, "ho:", opts, &index);
# 429 "httptest.c"
if(c == -1)
break;
# 432 "httptest.c"
if(c == 0)
continue;
switch(c) {
case 'o': outname = unix_optarg; break;
case 'h': usage(argv[0]); return 0;
default: usage(argv[0]); return 1;
}
}
# 441 "httptest.c"
if(outname && (!str_diff((outname), ("-"))))
outfile = 1;
else if((outfile = outname ? open_trunc(outname) : open_temp(&tmpl)) == -1) {
errmsg_warnsys("open error: ", outname, 0);
return 126;
}
# 448 "httptest.c"
buffer_init(&out, (buffer_op_proto*)(void*)&write, outfile, outbuf, sizeof(outbuf));
buffer_init(&htb, (buffer_op_proto*)(void*)&http_read, (uintptr_t)&h, inbuf, sizeof(inbuf));
htb.cookie = &h;
# 452 "httptest.c"
http_init(&h, url_host, url_port);
h.nonblocking = 1;
h.keepalive = 1;
h.version = 11;
argi = unix_optind;
# 458 "httptest.c"
if(argv[unix_optind] == 0) {
argv[unix_optind++] = (char*)default_url;
argv[unix_optind] = 0;
}
# 463 "httptest.c"
for(; argv[argi]; ++argi) {
int ret;
uri_t uri;
char* str;
strlist urls;
# 469 "httptest.c"
strlist_init(&urls, '\0');
uri_init(&uri);
# 472 "httptest.c"
uri_scan(&uri, argv[argi], str_len(argv[argi]));
# 481 "httptest.c"
str = uri_str(&uri);
# 489 "httptest.c"
free(str);
ret = http_get(&h, argv[argi]);
# 492 "httptest.c"
http_response* response = h.response;
# 494 "httptest.c"
response->header = response_header;
# 496 "httptest.c"
for(;;) {
int doread = 1;
fd_type sock;
# 500 "httptest.c"
io_wait();
# 502 "httptest.c"
++ioserial;
# 508 "httptest.c"
ret = http_io_handler(&h, &out);
# 510 "httptest.c"
if(response->code == 302) {
size_t sz;
s = http_get_header(response->data.s, response->headers_len, "Location", &sz);
# 75 "lib/buffer.h"
(__builtin_constant_p("Location: ") ? buffer_put(buffer_2, "Location: ", __builtin_strlen("Location: ")) : buffer_puts(buffer_2, "Location: "));
# 514 "httptest.c"
buffer_put(buffer_2, s, sz);
buffer_putnlflush(buffer_2);
}
# 540 "httptest.c"
if(response->status == HTTP_STATUS_ERROR)
break;
if(response->status == HTTP_STATUS_FINISH || response->status == HTTP_STATUS_CLOSED)
break;
}
# 546 "httptest.c"
if(0) {
const char *s = ((&response->data)->s), *e = ((&response->data)->s + (&response->data)->len);
s += http_skip_header(s, e - s);
# 550 "httptest.c"
put_escaped_n(buffer_1, s, e - s, 300);
# 552 "httptest.c"
}
# 554 "httptest.c"
if(response->data.len) {
const char* url;
queue_entry** headers_len = 0;
# 559 "httptest.c"
http_process(&h, &urls, &uri);
# 561 "httptest.c"
strlist_sort(&urls, 0);
# 48 "lib/strlist.h"
for(url = (&urls)->sa.s; url < ((&urls)->sa.s + (&urls)->sa.len); url += byte_chr((url), ((&urls)->sa.s + (&urls)->sa.len) - url, (&urls)->sep) + 1) {
# 564 "httptest.c"
queue_entry* entry = queue_put(headers_len, url);
headers_len = &entry->next;
}
# 572 "httptest.c"
}
# 574 "httptest.c"
buffer_flush(&out);
buffer_putnlflush(buffer_1);
}
# 578 "httptest.c"
return 0;
}
